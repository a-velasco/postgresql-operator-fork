{"uid":"f077da7f3a9c9bde","name":"test_full_cluster_restart[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"bc079a669521a660f5a86415d1c5b102","time":{"start":1718333827127,"stop":1718333861687,"duration":34560},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1718329573989,"stop":1718329573989,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1718329573989,"stop":1718329573989,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1718329573989,"stop":1718329574141,"duration":152},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1718333818928,"stop":1718333818928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1718333818928,"stop":1718333818928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1718333818928,"stop":1718333826089,"duration":7161},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1718333826089,"stop":1718333827126,"duration":1037},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1718333861687,"stop":1718333861769,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1718333861770,"stop":1718333875503,"duration":13733},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1718333875503,"stop":1718333876522,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1718333876522,"stop":1718333876522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1718334870971,"stop":1718334871486,"duration":515},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1718334871491,"stop":1718334871494,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1718334871494,"stop":1718334871494,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1718334871494,"stop":1718334871495,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1424-456"},{"name":"thread","value":"7866-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"49b9dc5acec994ca","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":6,"broken":10,"skipped":0,"passed":96,"unknown":0,"total":112},"items":[{"uid":"a6ae3a96b91ba5b2","reportUrl":"../2730//#testresult/a6ae3a96b91ba5b2","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f3bef2c30d0 state=finished raised AssertionError>]","time":{"start":1718248353292,"stop":1718248565496,"duration":212204}},{"uid":"9599f7c2a2cbc448","reportUrl":"../2724//#testresult/9599f7c2a2cbc448","status":"passed","time":{"start":1718158489042,"stop":1718158526011,"duration":36969}},{"uid":"f3c5e1adfc2d85f3","reportUrl":"../2717//#testresult/f3c5e1adfc2d85f3","status":"passed","time":{"start":1717813646937,"stop":1717813692687,"duration":45750}},{"uid":"2b9b08268ed73493","reportUrl":"../2712//#testresult/2b9b08268ed73493","status":"passed","time":{"start":1717727049045,"stop":1717727080613,"duration":31568}},{"uid":"3271234f00785531","reportUrl":"../2707//#testresult/3271234f00785531","status":"passed","time":{"start":1717640058160,"stop":1717640091420,"duration":33260}},{"uid":"3b7c8f11d85cbb06","reportUrl":"../2697//#testresult/3b7c8f11d85cbb06","status":"passed","time":{"start":1717553493209,"stop":1717553529221,"duration":36012}},{"uid":"4c5702f7f158f804","reportUrl":"../2687//#testresult/4c5702f7f158f804","status":"passed","time":{"start":1717467996184,"stop":1717468070586,"duration":74402}},{"uid":"eab395d405da4274","reportUrl":"../2679//#testresult/eab395d405da4274","status":"passed","time":{"start":1717294358347,"stop":1717294398157,"duration":39810}},{"uid":"4d58211ab9967272","reportUrl":"../2678//#testresult/4d58211ab9967272","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f3eb916e770 state=finished raised RetryError>]","time":{"start":1717208830017,"stop":1717208830017,"duration":0}},{"uid":"c5ad6e4af9185699","reportUrl":"../2673//#testresult/c5ad6e4af9185699","status":"passed","time":{"start":1717121380249,"stop":1717121416101,"duration":35852}},{"uid":"97fec766913b9f72","reportUrl":"../2656//#testresult/97fec766913b9f72","status":"passed","time":{"start":1716863071447,"stop":1716863103881,"duration":32434}},{"uid":"73e333b0a904f956","reportUrl":"../2646//#testresult/73e333b0a904f956","status":"passed","time":{"start":1716775637673,"stop":1716775667310,"duration":29637}},{"uid":"16eaf10ff67dbf18","reportUrl":"../2645//#testresult/16eaf10ff67dbf18","status":"failed","statusDetails":"AssertionError: unit postgresql/0 not restarted after cluster restart.\nassert False","time":{"start":1716689314758,"stop":1716689765509,"duration":450751}},{"uid":"630c803477fdbfad","reportUrl":"../2644//#testresult/630c803477fdbfad","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f2308155600 state=finished raised RetryError>]","time":{"start":1716604364915,"stop":1716604364915,"duration":0}},{"uid":"a63dcbe124469b14","reportUrl":"../2641//#testresult/a63dcbe124469b14","status":"passed","time":{"start":1716516125384,"stop":1716516161274,"duration":35890}},{"uid":"8274e055a366adae","reportUrl":"../2639//#testresult/8274e055a366adae","status":"passed","time":{"start":1716429793624,"stop":1716429849925,"duration":56301}},{"uid":"4d2a34810a903c90","reportUrl":"../2637//#testresult/4d2a34810a903c90","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f3ec13111e0 state=finished raised AssertionError>]","time":{"start":1716344696714,"stop":1716344911606,"duration":214892}},{"uid":"dfecdd817cc3f60c","reportUrl":"../2636//#testresult/dfecdd817cc3f60c","status":"passed","time":{"start":1716260032829,"stop":1716260062346,"duration":29517}},{"uid":"c2832e4eac0a2f53","reportUrl":"../2629//#testresult/c2832e4eac0a2f53","status":"failed","statusDetails":"AssertionError: members report different lists of cluster members.","time":{"start":1716171105682,"stop":1716171155716,"duration":50034}},{"uid":"e6a0809df1ea401f","reportUrl":"../2628//#testresult/e6a0809df1ea401f","status":"passed","time":{"start":1716085001480,"stop":1716085039319,"duration":37839}}]},"tags":["asyncio","group(1)"]},"source":"f077da7f3a9c9bde.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}