{"uid":"82083d3c83aed615","name":"test_restart_db_process[postgres]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"a9ad457c3a959b4124e0bcbca7775fea","time":{"start":1709003106915,"stop":1709003162463,"duration":55548},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1709000682798,"stop":1709000682799,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1709000682799,"stop":1709000683030,"duration":231},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1709000682799,"stop":1709000682799,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1709002712866,"stop":1709002715094,"duration":2228},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1709003106912,"stop":1709003106913,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1709003106913,"stop":1709003106914,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"92191589102040e0","name":"log","source":"92191589102040e0.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1709003162471,"stop":1709003163510,"duration":1039},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1709003163512,"stop":1709003163512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1709006193878,"stop":1709006333349,"duration":139471},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f63f25869e0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 129, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1709006333359,"stop":1709006334040,"duration":681},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1709006334045,"stop":1709006334047,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1709006334047,"stop":1709006334047,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1709006334047,"stop":1709006334048,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"large-265-f3198d40120af35680e4c13e"},{"name":"thread","value":"7568-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'postgres'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":23,"unknown":0,"total":25},"items":[{"uid":"56bf842f159ee023","reportUrl":"../2061//#testresult/56bf842f159ee023","status":"passed","time":{"start":1708741294687,"stop":1708741344650,"duration":49963}},{"uid":"ade53b09ffc1f4fb","reportUrl":"../2055//#testresult/ade53b09ffc1f4fb","status":"passed","time":{"start":1708654418520,"stop":1708654564104,"duration":145584}},{"uid":"a714ff24c50b1f0d","reportUrl":"../2032//#testresult/a714ff24c50b1f0d","status":"passed","time":{"start":1708481591707,"stop":1708481723340,"duration":131633}},{"uid":"63f5056314a44ace","reportUrl":"../2027//#testresult/63f5056314a44ace","status":"broken","statusDetails":"psycopg2.OperationalError: connection to server at \"10.149.82.190\", port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?","time":{"start":1708395127473,"stop":1708395140533,"duration":13060}},{"uid":"acc02269b41700da","reportUrl":"../2025//#testresult/acc02269b41700da","status":"failed","statusDetails":"AssertionError: assert 'postgresql/1' != 'postgresql/1'","time":{"start":1708309277006,"stop":1708309341689,"duration":64683}},{"uid":"15c225847e5c0ab4","reportUrl":"../2019//#testresult/15c225847e5c0ab4","status":"passed","time":{"start":1708136039851,"stop":1708136116862,"duration":77011}},{"uid":"fe0742b5a27ef11d","reportUrl":"../2013//#testresult/fe0742b5a27ef11d","status":"passed","time":{"start":1708049737153,"stop":1708049842624,"duration":105471}},{"uid":"469c056b6e805b31","reportUrl":"../2008//#testresult/469c056b6e805b31","status":"passed","time":{"start":1707963562573,"stop":1707963610743,"duration":48170}},{"uid":"85f8f39dc0d3f3aa","reportUrl":"../2000//#testresult/85f8f39dc0d3f3aa","status":"passed","time":{"start":1707790003475,"stop":1707790130694,"duration":127219}},{"uid":"4abf5bd99d4befb8","reportUrl":"../1996//#testresult/4abf5bd99d4befb8","status":"passed","time":{"start":1707704229804,"stop":1707704286210,"duration":56406}},{"uid":"750ed686acf8178b","reportUrl":"../1995//#testresult/750ed686acf8178b","status":"passed","time":{"start":1707617554132,"stop":1707617620084,"duration":65952}},{"uid":"272545c8617afaa6","reportUrl":"../1990//#testresult/272545c8617afaa6","status":"passed","time":{"start":1707444999922,"stop":1707445115975,"duration":116053}},{"uid":"5d963a197467b088","reportUrl":"../1988//#testresult/5d963a197467b088","status":"passed","time":{"start":1707358161463,"stop":1707358296759,"duration":135296}},{"uid":"f721340b0102f40e","reportUrl":"../1973//#testresult/f721340b0102f40e","status":"passed","time":{"start":1707271534323,"stop":1707271562285,"duration":27962}},{"uid":"752e1b9a5b2204b7","reportUrl":"../1961//#testresult/752e1b9a5b2204b7","status":"passed","time":{"start":1707185012505,"stop":1707185065131,"duration":52626}},{"uid":"e3ccd9fd31891662","reportUrl":"../1957//#testresult/e3ccd9fd31891662","status":"passed","time":{"start":1707099270662,"stop":1707099360884,"duration":90222}},{"uid":"8392c7bba3571bec","reportUrl":"../1956//#testresult/8392c7bba3571bec","status":"passed","time":{"start":1707012145447,"stop":1707012211813,"duration":66366}},{"uid":"f6a0d9724a8e6915","reportUrl":"../1955//#testresult/f6a0d9724a8e6915","status":"passed","time":{"start":1706926195865,"stop":1706926312679,"duration":116814}},{"uid":"56993cdf399b772","reportUrl":"../1939//#testresult/56993cdf399b772","status":"passed","time":{"start":1706754050588,"stop":1706754103188,"duration":52600}},{"uid":"2980e800c4554de6","reportUrl":"../1935//#testresult/2980e800c4554de6","status":"passed","time":{"start":1706671422469,"stop":1706671471415,"duration":48946}}]},"tags":["asyncio","group(1)"]},"source":"82083d3c83aed615.json","parameterValues":["'postgres'"]}