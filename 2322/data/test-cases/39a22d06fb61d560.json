{"uid":"39a22d06fb61d560","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1711765730893,"stop":1711766064039,"duration":333146},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1711762044299,"stop":1711762044300,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1711762044300,"stop":1711762044300,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1711762044300,"stop":1711762044443,"duration":143},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1711763231471,"stop":1711763233554,"duration":2083},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1711765730892,"stop":1711765730892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1711765730892,"stop":1711765730893,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"6d54da353e42c890","name":"log","source":"6d54da353e42c890.txt","type":"text/plain","size":3386}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1711766064040,"stop":1711766065061,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1711766065061,"stop":1711766065061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1711766668519,"stop":1711766802442,"duration":133923},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fdd72129510 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1711766802443,"stop":1711766802901,"duration":458},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1711766802902,"stop":1711766802902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1711766802902,"stop":1711766802902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1711766802902,"stop":1711766802903,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1567-769"},{"name":"thread","value":"8444-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":4,"broken":13,"skipped":0,"passed":29,"unknown":0,"total":46},"items":[{"uid":"7508873ee655aaa0","reportUrl":"../2318//#testresult/7508873ee655aaa0","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1711677754386,"stop":1711677857320,"duration":102934}},{"uid":"cd089fa2a9868200","reportUrl":"../2315//#testresult/cd089fa2a9868200","status":"passed","time":{"start":1711591481441,"stop":1711592059112,"duration":577671}},{"uid":"d2ce9d28773377bf","reportUrl":"../2313//#testresult/d2ce9d28773377bf","status":"passed","time":{"start":1711505022943,"stop":1711505513885,"duration":490942}},{"uid":"ad61535781a9bba6","reportUrl":"../2309//#testresult/ad61535781a9bba6","status":"passed","time":{"start":1711418588578,"stop":1711419159515,"duration":570937}},{"uid":"ce201fdc903e728d","reportUrl":"../2306//#testresult/ce201fdc903e728d","status":"passed","time":{"start":1711332116110,"stop":1711332440371,"duration":324261}},{"uid":"1dbf14fa9e3465f3","reportUrl":"../2305//#testresult/1dbf14fa9e3465f3","status":"passed","time":{"start":1711245578718,"stop":1711246096292,"duration":517574}},{"uid":"5d961148f3f8ef6c","reportUrl":"../2302//#testresult/5d961148f3f8ef6c","status":"passed","time":{"start":1711159655854,"stop":1711160083533,"duration":427679}},{"uid":"60c4a22a4d1b84f2","reportUrl":"../2278//#testresult/60c4a22a4d1b84f2","status":"passed","time":{"start":1711074561474,"stop":1711074894597,"duration":333123}},{"uid":"39bb6ac766facfd0","reportUrl":"../2273//#testresult/39bb6ac766facfd0","status":"passed","time":{"start":1710986652312,"stop":1710987112287,"duration":459975}},{"uid":"d9b5ca3ab1b8067c","reportUrl":"../2259//#testresult/d9b5ca3ab1b8067c","status":"passed","time":{"start":1710901166287,"stop":1710901698568,"duration":532281}},{"uid":"5e7bf44f0a2aa0d","reportUrl":"../2257//#testresult/5e7bf44f0a2aa0d","status":"passed","time":{"start":1710813685687,"stop":1710814154983,"duration":469296}},{"uid":"742f70189b89fe55","reportUrl":"../2239//#testresult/742f70189b89fe55","status":"passed","time":{"start":1710640850140,"stop":1710641262987,"duration":412847}},{"uid":"e71133e07363dcda","reportUrl":"../2234//#testresult/e71133e07363dcda","status":"passed","time":{"start":1710556297900,"stop":1710556841127,"duration":543227}},{"uid":"fd68001a3b0585e","reportUrl":"../2229//#testresult/fd68001a3b0585e","status":"passed","time":{"start":1710468197387,"stop":1710468627142,"duration":429755}},{"uid":"5435f654db934521","reportUrl":"../2210//#testresult/5435f654db934521","status":"passed","time":{"start":1710296297219,"stop":1710296689429,"duration":392210}},{"uid":"f2e4376dcef4d1be","reportUrl":"../2189//#testresult/f2e4376dcef4d1be","status":"failed","statusDetails":"AssertionError: secondary not up to date with the cluster after restarting.","time":{"start":1710122923302,"stop":1710123580206,"duration":656904}},{"uid":"aa3f2d5adea2c552","reportUrl":"../2185//#testresult/aa3f2d5adea2c552","status":"passed","time":{"start":1710036150585,"stop":1710036521357,"duration":370772}},{"uid":"b8e7493ecc64c966","reportUrl":"../2181//#testresult/b8e7493ecc64c966","status":"passed","time":{"start":1709949474078,"stop":1709949990019,"duration":515941}},{"uid":"7e597e728424847f","reportUrl":"../2169//#testresult/7e597e728424847f","status":"passed","time":{"start":1709863263271,"stop":1709863791758,"duration":528487}},{"uid":"9876cec3d0f04d75","reportUrl":"../2084//#testresult/9876cec3d0f04d75","status":"failed","statusDetails":"AssertionError: secondary not up to date with the cluster after restarting.","time":{"start":1709086037128,"stop":1709086652023,"duration":614895}}]},"tags":["asyncio","group(1)"]},"source":"39a22d06fb61d560.json","parameterValues":[]}