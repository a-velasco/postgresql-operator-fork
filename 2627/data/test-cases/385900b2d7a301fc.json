{"uid":"385900b2d7a301fc","name":"test_restart_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"5275b7647c50948f92e67ea83d5d7646","time":{"start":1715997409819,"stop":1715997442383,"duration":32564},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1715995711331,"stop":1715995711332,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1715995711332,"stop":1715995711332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1715995711332,"stop":1715995711471,"duration":139},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1715997011452,"stop":1715997013540,"duration":2088},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1715997409819,"stop":1715997409819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1715997409819,"stop":1715997409819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"998cc6fae51cf39a","name":"log","source":"998cc6fae51cf39a.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1715997442384,"stop":1715997443405,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1715997443406,"stop":1715997443406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1715999185360,"stop":1715999320297,"duration":134937},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f0e741e90f0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1715999320298,"stop":1715999320608,"duration":310},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1715999320609,"stop":1715999320609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1715999320610,"stop":1715999320610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1715999320610,"stop":1715999320610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az692-597"},{"name":"thread","value":"7153-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":90,"unknown":0,"total":91},"items":[{"uid":"713242667efc622b","reportUrl":"../2625//#testresult/713242667efc622b","status":"passed","time":{"start":1715911323569,"stop":1715911356188,"duration":32619}},{"uid":"c186ece823d62230","reportUrl":"../2621//#testresult/c186ece823d62230","status":"passed","time":{"start":1715824381113,"stop":1715824424705,"duration":43592}},{"uid":"1b4d1e4d20ce7a3b","reportUrl":"../2617//#testresult/1b4d1e4d20ce7a3b","status":"passed","time":{"start":1715738649792,"stop":1715738680947,"duration":31155}},{"uid":"5296fce0e1706bf","reportUrl":"../2614//#testresult/5296fce0e1706bf","status":"passed","time":{"start":1715652108873,"stop":1715652129333,"duration":20460}},{"uid":"2fc9fd5eb926ac32","reportUrl":"../2611//#testresult/2fc9fd5eb926ac32","status":"passed","time":{"start":1715565251006,"stop":1715565270281,"duration":19275}},{"uid":"3ffc421394f05176","reportUrl":"../2610//#testresult/3ffc421394f05176","status":"passed","time":{"start":1715479686363,"stop":1715479714471,"duration":28108}},{"uid":"69b12bff12429ae6","reportUrl":"../2609//#testresult/69b12bff12429ae6","status":"passed","time":{"start":1715392790039,"stop":1715392822082,"duration":32043}},{"uid":"39e86b9e17f45ad6","reportUrl":"../2603//#testresult/39e86b9e17f45ad6","status":"passed","time":{"start":1715306377582,"stop":1715306396044,"duration":18462}},{"uid":"3c0435aa1d1e3574","reportUrl":"../2599//#testresult/3c0435aa1d1e3574","status":"passed","time":{"start":1715220358210,"stop":1715220390034,"duration":31824}},{"uid":"c4daf3cb1bc16703","reportUrl":"../2593//#testresult/c4daf3cb1bc16703","status":"passed","time":{"start":1715132922838,"stop":1715132955461,"duration":32623}},{"uid":"ad9afc7e16946d09","reportUrl":"../2588//#testresult/ad9afc7e16946d09","status":"passed","time":{"start":1715047406801,"stop":1715047431354,"duration":24553}},{"uid":"93b46b67ef1098c","reportUrl":"../2586//#testresult/93b46b67ef1098c","status":"passed","time":{"start":1714960821586,"stop":1714960853533,"duration":31947}},{"uid":"56636ce0afc832f8","reportUrl":"../2582//#testresult/56636ce0afc832f8","status":"passed","time":{"start":1714874590159,"stop":1714874615792,"duration":25633}},{"uid":"1c8d1fbb609cc504","reportUrl":"../2581//#testresult/1c8d1fbb609cc504","status":"passed","time":{"start":1714788113478,"stop":1714788162422,"duration":48944}},{"uid":"6f6a7c38ba042542","reportUrl":"../2578//#testresult/6f6a7c38ba042542","status":"passed","time":{"start":1714701603053,"stop":1714701631822,"duration":28769}},{"uid":"8f278bc82a2fa14b","reportUrl":"../2570//#testresult/8f278bc82a2fa14b","status":"passed","time":{"start":1714615243479,"stop":1714615275303,"duration":31824}},{"uid":"b4da78fd6c9c36e2","reportUrl":"../2566//#testresult/b4da78fd6c9c36e2","status":"passed","time":{"start":1714529187252,"stop":1714529218269,"duration":31017}},{"uid":"3f23403e2fd8dcff","reportUrl":"../2557//#testresult/3f23403e2fd8dcff","status":"passed","time":{"start":1714442117919,"stop":1714442144642,"duration":26723}},{"uid":"8997e65ccd7a555a","reportUrl":"../2540//#testresult/8997e65ccd7a555a","status":"passed","time":{"start":1714355738635,"stop":1714355766243,"duration":27608}},{"uid":"1754efa0b22cf15c","reportUrl":"../2536//#testresult/1754efa0b22cf15c","status":"passed","time":{"start":1714183125164,"stop":1714183148463,"duration":23299}}]},"tags":["asyncio","group(1)"]},"source":"385900b2d7a301fc.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}