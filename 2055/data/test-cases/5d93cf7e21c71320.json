{"uid":"5d93cf7e21c71320","name":"test_invalid_extra_user_roles","fullName":"tests.integration.new_relations.test_new_relations#test_invalid_extra_user_roles","historyId":"747d7c0d400591143c1e03f0a882919e","time":{"start":1708657803541,"stop":1708657805468,"duration":1927},"status":"broken","statusMessage":"juju.errors.JujuAPIError: relation matching \"database:database data-integrator\" not found","statusTrace":"Traceback (most recent call last):\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/tests/integration/new_relations/test_new_relations.py\", line 520, in test_invalid_extra_user_roles\n    await ops_test.model.applications[DATABASE_APP_NAME].remove_relation(\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/application.py\", line 210, in destroy_relation\n    return await app_facade.DestroyRelation(endpoints=[\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/facade.py\", line 486, in wrapper\n    reply = await f(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/_client17.py\", line 1136, in DestroyRelation\n    reply = await self.rpc(msg)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/facade.py\", line 659, in rpc\n    result = await self.connection.rpc(msg, encoder=TypeEncoder)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/connection.py\", line 679, in rpc\n    raise errors.JujuAPIError(result)\njuju.errors.JujuAPIError: relation matching \"database:database data-integrator\" not found","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1708651840907,"stop":1708651840908,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1708651840908,"stop":1708651840908,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1708651840909,"stop":1708651841806,"duration":897},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1708657803492,"stop":1708657803492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"juju.errors.JujuAPIError: relation matching \"database:database data-integrator\" not found","statusTrace":"Traceback (most recent call last):\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/tests/integration/new_relations/test_new_relations.py\", line 520, in test_invalid_extra_user_roles\n    await ops_test.model.applications[DATABASE_APP_NAME].remove_relation(\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/application.py\", line 210, in destroy_relation\n    return await app_facade.DestroyRelation(endpoints=[\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/facade.py\", line 486, in wrapper\n    reply = await f(*args, **kwargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/_client17.py\", line 1136, in DestroyRelation\n    reply = await self.rpc(msg)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/facade.py\", line 659, in rpc\n    result = await self.connection.rpc(msg, encoder=TypeEncoder)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/juju/client/connection.py\", line 679, in rpc\n    raise errors.JujuAPIError(result)\njuju.errors.JujuAPIError: relation matching \"database:database data-integrator\" not found","steps":[],"attachments":[{"uid":"17fb01267430bc97","name":"log","source":"17fb01267430bc97.txt","type":"text/plain","size":8731}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1708657805577,"stop":1708657805577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1708657805608,"stop":1708657853220,"duration":47612},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1708657853351,"stop":1708657853352,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1708657853352,"stop":1708657853352,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1708657853353,"stop":1708657853381,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.new_relations"},{"name":"suite","value":"test_new_relations"},{"name":"host","value":"large-313-1ae74a637b74dc1c9057ba77"},{"name":"thread","value":"14115-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.new_relations.test_new_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":9,"skipped":1,"passed":11,"unknown":0,"total":21},"items":[{"uid":"5dfed35b4c8ec219","reportUrl":"../2040//#testresult/5dfed35b4c8ec219","status":"broken","statusDetails":"juju.errors.JujuAPIError: relation matching \"database:database data-integrator\" not found","time":{"start":1708570434741,"stop":1708570434964,"duration":223}},{"uid":"c227843b1dcb92af","reportUrl":"../2032//#testresult/c227843b1dcb92af","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1708479810611,"stop":1708479810611,"duration":0}},{"uid":"f7e865a6e49fea60","reportUrl":"../2027//#testresult/f7e865a6e49fea60","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ndatabase/2 [executing] active:","time":{"start":1708398649113,"stop":1708399249199,"duration":600086}},{"uid":"afe13690ab1fad73","reportUrl":"../2025//#testresult/afe13690ab1fad73","status":"passed","time":{"start":1708309702819,"stop":1708309977100,"duration":274281}},{"uid":"e241dd58b1b68786","reportUrl":"../2019//#testresult/e241dd58b1b68786","status":"passed","time":{"start":1708136809947,"stop":1708137143187,"duration":333240}},{"uid":"3ea0f765caaa952e","reportUrl":"../2008//#testresult/3ea0f765caaa952e","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in blocked: database/0","time":{"start":1707965456798,"stop":1707965458868,"duration":2070}},{"uid":"c607126df8627e82","reportUrl":"../2007//#testresult/c607126df8627e82","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in blocked: database/0","time":{"start":1707879084342,"stop":1707879087827,"duration":3485}},{"uid":"53e52a694df6bf06","reportUrl":"../2000//#testresult/53e52a694df6bf06","status":"broken","statusDetails":"juju.errors.JujuUnitError: Units in blocked: database/2, database/3","time":{"start":1707793783505,"stop":1707793784022,"duration":517}},{"uid":"f4e4ef7fb271cee4","reportUrl":"../1996//#testresult/f4e4ef7fb271cee4","status":"broken","statusDetails":"juju.errors.JujuUnitError: Units in blocked: database/2, database/3","time":{"start":1707707821484,"stop":1707707822109,"duration":625}},{"uid":"9af38451c6624f53","reportUrl":"../1995//#testresult/9af38451c6624f53","status":"passed","time":{"start":1707618470567,"stop":1707618759721,"duration":289154}},{"uid":"23fd10ccb98ead55","reportUrl":"../1993//#testresult/23fd10ccb98ead55","status":"passed","time":{"start":1707531528491,"stop":1707531788002,"duration":259511}},{"uid":"3d4cadc548985ea6","reportUrl":"../1990//#testresult/3d4cadc548985ea6","status":"passed","time":{"start":1707445273782,"stop":1707445556868,"duration":283086}},{"uid":"9bf6a16853cf77c3","reportUrl":"../1973//#testresult/9bf6a16853cf77c3","status":"passed","time":{"start":1707271656849,"stop":1707271886566,"duration":229717}},{"uid":"fdd80c2112cd853d","reportUrl":"../1961//#testresult/fdd80c2112cd853d","status":"passed","time":{"start":1707186737771,"stop":1707187040736,"duration":302965}},{"uid":"6084c9bc2db9f0a5","reportUrl":"../1957//#testresult/6084c9bc2db9f0a5","status":"broken","statusDetails":"juju.errors.JujuUnitError: Units in blocked: database/2, database/3","time":{"start":1707102813948,"stop":1707102814274,"duration":326}},{"uid":"3b364171695aa76c","reportUrl":"../1935//#testresult/3b364171695aa76c","status":"broken","statusDetails":"juju.errors.JujuUnitError: Units in blocked: database/2, database/3","time":{"start":1706676645438,"stop":1706676645719,"duration":281}},{"uid":"bd10efab666c6eea","reportUrl":"../1928//#testresult/bd10efab666c6eea","status":"passed","time":{"start":1706581779315,"stop":1706582057287,"duration":277972}},{"uid":"855e38cf7d733740","reportUrl":"../1919//#testresult/855e38cf7d733740","status":"passed","time":{"start":1706494680444,"stop":1706494919667,"duration":239223}},{"uid":"168e7497f85e4b0c","reportUrl":"../1917//#testresult/168e7497f85e4b0c","status":"passed","time":{"start":1706408657045,"stop":1706408981252,"duration":324207}},{"uid":"421c4c8d7a27b457","reportUrl":"../1916//#testresult/421c4c8d7a27b457","status":"passed","time":{"start":1706322018308,"stop":1706322234815,"duration":216507}}]},"tags":["asyncio","group(1)"]},"source":"5d93cf7e21c71320.json","parameterValues":[]}