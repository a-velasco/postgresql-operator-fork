{"uid":"55f6a4deefe62c24","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1718158709331,"stop":1718159085365,"duration":376034},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1718156407980,"stop":1718156407981,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1718156407981,"stop":1718156408122,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1718156407981,"stop":1718156407981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1718157752495,"stop":1718157754569,"duration":2074},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1718158709330,"stop":1718158709330,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1718158709330,"stop":1718158709330,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"c200d66dec7b13e2","name":"log","source":"c200d66dec7b13e2.txt","type":"text/plain","size":3832}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1718159085366,"stop":1718159086385,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1718159086386,"stop":1718159086386,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1718159763941,"stop":1718159897667,"duration":133726},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f0c754a37c0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1718159897668,"stop":1718159897961,"duration":293},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1718159897962,"stop":1718159897962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1718159897963,"stop":1718159897963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1718159897963,"stop":1718159897963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az840-328"},{"name":"thread","value":"8984-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"beffacefb51398a7","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":10,"broken":22,"skipped":0,"passed":78,"unknown":0,"total":110},"items":[{"uid":"2d075d0bbebeb794","reportUrl":"../2717//#testresult/2d075d0bbebeb794","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f0ece969870 state=finished raised AssertionError>]","time":{"start":1717814227626,"stop":1717814408565,"duration":180939}},{"uid":"601cad85d1766cc6","reportUrl":"../2712//#testresult/601cad85d1766cc6","status":"passed","time":{"start":1717727300028,"stop":1717727693764,"duration":393736}},{"uid":"29c28d42e2643e59","reportUrl":"../2707//#testresult/29c28d42e2643e59","status":"passed","time":{"start":1717640312477,"stop":1717640959369,"duration":646892}},{"uid":"3723b2cc3fdb93fd","reportUrl":"../2697//#testresult/3723b2cc3fdb93fd","status":"passed","time":{"start":1717553713817,"stop":1717554412116,"duration":698299}},{"uid":"f36d20fe95247432","reportUrl":"../2687//#testresult/f36d20fe95247432","status":"passed","time":{"start":1717468253218,"stop":1717468871398,"duration":618180}},{"uid":"8835546337e68dc4","reportUrl":"../2679//#testresult/8835546337e68dc4","status":"passed","time":{"start":1717294592337,"stop":1717295154548,"duration":562211}},{"uid":"77b3725e82e4fca5","reportUrl":"../2678//#testresult/77b3725e82e4fca5","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f3eba2eb9d0 state=finished raised AssertionError>]","time":{"start":1717210023075,"stop":1717210230921,"duration":207846}},{"uid":"84603a8208a0dc40","reportUrl":"../2673//#testresult/84603a8208a0dc40","status":"passed","time":{"start":1717121593121,"stop":1717122299818,"duration":706697}},{"uid":"d6b56be3a8063a6f","reportUrl":"../2656//#testresult/d6b56be3a8063a6f","status":"passed","time":{"start":1716863270505,"stop":1716863716496,"duration":445991}},{"uid":"e61b4a6ef6460091","reportUrl":"../2646//#testresult/e61b4a6ef6460091","status":"passed","time":{"start":1716775833374,"stop":1716776255250,"duration":421876}},{"uid":"e7a4fb59f4dafc27","reportUrl":"../2645//#testresult/e7a4fb59f4dafc27","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fbb5731b1c0 state=finished raised AssertionError>]","time":{"start":1716690941824,"stop":1716691123659,"duration":181835}},{"uid":"e8462dddfe0ca4c4","reportUrl":"../2644//#testresult/e8462dddfe0ca4c4","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f2307ff68f0 state=finished raised AssertionError>]","time":{"start":1716605505991,"stop":1716605728849,"duration":222858}},{"uid":"8e7c64cb05a5cc73","reportUrl":"../2641//#testresult/8e7c64cb05a5cc73","status":"passed","time":{"start":1716516333737,"stop":1716517027227,"duration":693490}},{"uid":"8e5b92d545bf329b","reportUrl":"../2639//#testresult/8e5b92d545bf329b","status":"passed","time":{"start":1716430000050,"stop":1716430399123,"duration":399073}},{"uid":"4fc6e090e5e41ffa","reportUrl":"../2637//#testresult/4fc6e090e5e41ffa","status":"failed","statusDetails":"AssertionError: Unable to create continuous_writes table","time":{"start":1716345843963,"stop":1716346149407,"duration":305444}},{"uid":"b04ce7759412d43e","reportUrl":"../2636//#testresult/b04ce7759412d43e","status":"passed","time":{"start":1716260236772,"stop":1716260926316,"duration":689544}},{"uid":"157b99ed8cabd4e6","reportUrl":"../2629//#testresult/157b99ed8cabd4e6","status":"failed","statusDetails":"AssertionError: Unable to create continuous_writes table","time":{"start":1716172100627,"stop":1716172404814,"duration":304187}},{"uid":"fe1386f187807cc8","reportUrl":"../2628//#testresult/fe1386f187807cc8","status":"passed","time":{"start":1716085260194,"stop":1716085643233,"duration":383039}},{"uid":"8e6ded197e692664","reportUrl":"../2627//#testresult/8e6ded197e692664","status":"passed","time":{"start":1715997886326,"stop":1715998575531,"duration":689205}},{"uid":"26c1762695eda599","reportUrl":"../2625//#testresult/26c1762695eda599","status":"passed","time":{"start":1715912656995,"stop":1715913387480,"duration":730485}}]},"tags":["asyncio","group(1)"]},"source":"55f6a4deefe62c24.json","parameterValues":[]}