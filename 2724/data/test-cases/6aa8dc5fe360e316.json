{"uid":"6aa8dc5fe360e316","name":"test_restart_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"5275b7647c50948f92e67ea83d5d7646","time":{"start":1718158195959,"stop":1718158227864,"duration":31905},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1718156407980,"stop":1718156407981,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1718156407981,"stop":1718156408122,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1718156407981,"stop":1718156407981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1718157752495,"stop":1718157754569,"duration":2074},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1718158195959,"stop":1718158195959,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1718158195959,"stop":1718158195959,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"f7f58ad31bd02457","name":"log","source":"f7f58ad31bd02457.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1718158227865,"stop":1718158228885,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1718158228886,"stop":1718158228886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1718159763941,"stop":1718159897667,"duration":133726},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f0c754a37c0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1718159897668,"stop":1718159897961,"duration":293},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1718159897962,"stop":1718159897962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1718159897963,"stop":1718159897963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1718159897963,"stop":1718159897963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az840-328"},{"name":"thread","value":"8984-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c740879754021777","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":109,"unknown":0,"total":110},"items":[{"uid":"c13d20e58eeacd7","reportUrl":"../2717//#testresult/c13d20e58eeacd7","status":"passed","time":{"start":1717812586173,"stop":1717812617722,"duration":31549}},{"uid":"40f703ed4e2ad27","reportUrl":"../2712//#testresult/40f703ed4e2ad27","status":"passed","time":{"start":1717726857597,"stop":1717726888571,"duration":30974}},{"uid":"de84e3ae08941be1","reportUrl":"../2707//#testresult/de84e3ae08941be1","status":"passed","time":{"start":1717639819670,"stop":1717639851439,"duration":31769}},{"uid":"218c2f938c425328","reportUrl":"../2697//#testresult/218c2f938c425328","status":"passed","time":{"start":1717553254844,"stop":1717553286800,"duration":31956}},{"uid":"9d618471d156eb0d","reportUrl":"../2687//#testresult/9d618471d156eb0d","status":"passed","time":{"start":1717466876431,"stop":1717466909684,"duration":33253}},{"uid":"54a3822bb327fa72","reportUrl":"../2679//#testresult/54a3822bb327fa72","status":"passed","time":{"start":1717294060789,"stop":1717294091971,"duration":31182}},{"uid":"86f8d7c5684bfdc4","reportUrl":"../2678//#testresult/86f8d7c5684bfdc4","status":"passed","time":{"start":1717207438292,"stop":1717207466330,"duration":28038}},{"uid":"b2ca6f5044135021","reportUrl":"../2673//#testresult/b2ca6f5044135021","status":"passed","time":{"start":1717121099300,"stop":1717121146432,"duration":47132}},{"uid":"eb43f6d02cff14f1","reportUrl":"../2656//#testresult/eb43f6d02cff14f1","status":"passed","time":{"start":1716862073573,"stop":1716862100616,"duration":27043}},{"uid":"5f850e7feb417f88","reportUrl":"../2646//#testresult/5f850e7feb417f88","status":"passed","time":{"start":1716775362042,"stop":1716775389956,"duration":27914}},{"uid":"5c7429e3b9f4ee9","reportUrl":"../2645//#testresult/5c7429e3b9f4ee9","status":"passed","time":{"start":1716688955305,"stop":1716688980281,"duration":24976}},{"uid":"d433761c246af4a9","reportUrl":"../2644//#testresult/d433761c246af4a9","status":"passed","time":{"start":1716602379909,"stop":1716602409360,"duration":29451}},{"uid":"be97c10e7ca4d33d","reportUrl":"../2641//#testresult/be97c10e7ca4d33d","status":"passed","time":{"start":1716515862607,"stop":1716515885785,"duration":23178}},{"uid":"ed2238d3c614b598","reportUrl":"../2639//#testresult/ed2238d3c614b598","status":"passed","time":{"start":1716429558928,"stop":1716429582201,"duration":23273}},{"uid":"e63e82918f936b9e","reportUrl":"../2637//#testresult/e63e82918f936b9e","status":"passed","time":{"start":1716343599650,"stop":1716343649882,"duration":50232}},{"uid":"c4eed4ac79317232","reportUrl":"../2636//#testresult/c4eed4ac79317232","status":"passed","time":{"start":1716257791967,"stop":1716257823959,"duration":31992}},{"uid":"210ffe1da0c1f124","reportUrl":"../2629//#testresult/210ffe1da0c1f124","status":"passed","time":{"start":1716170833569,"stop":1716170861563,"duration":27994}},{"uid":"21cf77691a030154","reportUrl":"../2628//#testresult/21cf77691a030154","status":"passed","time":{"start":1716083911900,"stop":1716083944764,"duration":32864}},{"uid":"385900b2d7a301fc","reportUrl":"../2627//#testresult/385900b2d7a301fc","status":"passed","time":{"start":1715997409819,"stop":1715997442383,"duration":32564}},{"uid":"713242667efc622b","reportUrl":"../2625//#testresult/713242667efc622b","status":"passed","time":{"start":1715911323569,"stop":1715911356188,"duration":32619}}]},"tags":["asyncio","group(1)"]},"source":"6aa8dc5fe360e316.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}