{"uid":"ce806fc002befb5e","name":"test_restart_db_process[postgres]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"a9ad457c3a959b4124e0bcbca7775fea","time":{"start":1718158126156,"stop":1718158194925,"duration":68769},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1718156407980,"stop":1718156407981,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1718156407981,"stop":1718156408122,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1718156407981,"stop":1718156407981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1718157752495,"stop":1718157754569,"duration":2074},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1718158126155,"stop":1718158126155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1718158126155,"stop":1718158126155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"8c76216b54453bf5","name":"log","source":"8c76216b54453bf5.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1718158194925,"stop":1718158195956,"duration":1031},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1718158195957,"stop":1718158195957,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1718159763941,"stop":1718159897667,"duration":133726},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f0c754a37c0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1718159897668,"stop":1718159897961,"duration":293},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1718159897962,"stop":1718159897962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1718159897963,"stop":1718159897963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1718159897963,"stop":1718159897963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az840-328"},{"name":"thread","value":"8984-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'postgres'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4c6792e977785bf","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":2,"skipped":0,"passed":106,"unknown":0,"total":110},"items":[{"uid":"5e9f57e9dcd434dc","reportUrl":"../2717//#testresult/5e9f57e9dcd434dc","status":"passed","time":{"start":1717812545954,"stop":1717812585151,"duration":39197}},{"uid":"8d5de846484a802","reportUrl":"../2712//#testresult/8d5de846484a802","status":"passed","time":{"start":1717726821750,"stop":1717726856575,"duration":34825}},{"uid":"ab05fce5661eb9f0","reportUrl":"../2707//#testresult/ab05fce5661eb9f0","status":"passed","time":{"start":1717639757809,"stop":1717639818648,"duration":60839}},{"uid":"b85e8b2831982ced","reportUrl":"../2697//#testresult/b85e8b2831982ced","status":"passed","time":{"start":1717553222523,"stop":1717553253821,"duration":31298}},{"uid":"8395e4762ce268e5","reportUrl":"../2687//#testresult/8395e4762ce268e5","status":"passed","time":{"start":1717466835237,"stop":1717466875408,"duration":40171}},{"uid":"f900212853c3a697","reportUrl":"../2679//#testresult/f900212853c3a697","status":"passed","time":{"start":1717294028791,"stop":1717294059767,"duration":30976}},{"uid":"2a2f1d88d43a9083","reportUrl":"../2678//#testresult/2a2f1d88d43a9083","status":"passed","time":{"start":1717207410677,"stop":1717207437266,"duration":26589}},{"uid":"82b54e1abab35744","reportUrl":"../2673//#testresult/82b54e1abab35744","status":"failed","statusDetails":"AssertionError: assert 'postgresql/2' != 'postgresql/2'","time":{"start":1717121050319,"stop":1717121093213,"duration":42894}},{"uid":"2c7bccdfe27deedb","reportUrl":"../2656//#testresult/2c7bccdfe27deedb","status":"passed","time":{"start":1716862019131,"stop":1716862072549,"duration":53418}},{"uid":"c6cab5e976f0a394","reportUrl":"../2646//#testresult/c6cab5e976f0a394","status":"passed","time":{"start":1716775292931,"stop":1716775361021,"duration":68090}},{"uid":"26114d2e7306e215","reportUrl":"../2645//#testresult/26114d2e7306e215","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fbb59df4310 state=finished raised KeyError>]","time":{"start":1716688763758,"stop":1716688954218,"duration":190460}},{"uid":"b4e5cd55d988695b","reportUrl":"../2644//#testresult/b4e5cd55d988695b","status":"passed","time":{"start":1716602352659,"stop":1716602378887,"duration":26228}},{"uid":"8debba4faa3b429f","reportUrl":"../2641//#testresult/8debba4faa3b429f","status":"passed","time":{"start":1716515826676,"stop":1716515861583,"duration":34907}},{"uid":"a180fe9c73a24d15","reportUrl":"../2639//#testresult/a180fe9c73a24d15","status":"passed","time":{"start":1716429533383,"stop":1716429557906,"duration":24523}},{"uid":"c1759d38dd586c02","reportUrl":"../2637//#testresult/c1759d38dd586c02","status":"passed","time":{"start":1716343570333,"stop":1716343598625,"duration":28292}},{"uid":"2559011a456c38cd","reportUrl":"../2636//#testresult/2559011a456c38cd","status":"passed","time":{"start":1716257749536,"stop":1716257790946,"duration":41410}},{"uid":"d47235f3caa72d24","reportUrl":"../2629//#testresult/d47235f3caa72d24","status":"passed","time":{"start":1716170769140,"stop":1716170832547,"duration":63407}},{"uid":"a0b7764b2f0aa809","reportUrl":"../2628//#testresult/a0b7764b2f0aa809","status":"passed","time":{"start":1716083869044,"stop":1716083910868,"duration":41824}},{"uid":"a7e45547a9b782e6","reportUrl":"../2627//#testresult/a7e45547a9b782e6","status":"passed","time":{"start":1715997366881,"stop":1715997408782,"duration":41901}},{"uid":"3ccf82b90d65be3c","reportUrl":"../2625//#testresult/3ccf82b90d65be3c","status":"passed","time":{"start":1715911280402,"stop":1715911322546,"duration":42144}}]},"tags":["asyncio","group(1)"]},"source":"ce806fc002befb5e.json","parameterValues":["'postgres'"]}