{"uid":"40ce4816a6049ea0","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1723343420357,"stop":1723343487377,"duration":67020},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1723340749645,"stop":1723340749645,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1723340749645,"stop":1723340749813,"duration":168},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1723340749645,"stop":1723340749645,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1723340749813,"stop":1723340750522,"duration":709},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1723340749813,"stop":1723340749813,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1723343420357,"stop":1723343420357,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1723343420357,"stop":1723343420357,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"5f461038bfc150b9","name":"log","source":"5f461038bfc150b9.txt","type":"text/plain","size":1299}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1723343487378,"stop":1723343488402,"duration":1024},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1723343488402,"stop":1723343488402,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1723344769236,"stop":1723344769255,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1723344769255,"stop":1723344771318,"duration":2063},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1723344771318,"stop":1723344771319,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1723344771319,"stop":1723344771319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1723344771319,"stop":1723344771319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az700-746"},{"name":"thread","value":"8757-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5affa35058bb9b2e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":16,"broken":14,"skipped":18,"passed":44,"unknown":4,"total":96},"items":[{"uid":"9f689c258f373357","reportUrl":"../3097//#testresult/9f689c258f373357","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'replace'","time":{"start":1723257176916,"stop":1723257182529,"duration":5613}},{"uid":"92f59202b3e0a67a","reportUrl":"../3094//#testresult/92f59202b3e0a67a","status":"passed","time":{"start":1723170806672,"stop":1723170891242,"duration":84570}},{"uid":"7230dbcc724b21b6","reportUrl":"../3091//#testresult/7230dbcc724b21b6","status":"passed","time":{"start":1723084107932,"stop":1723084195487,"duration":87555}},{"uid":"6f9fe33745baad84","reportUrl":"../3089//#testresult/6f9fe33745baad84","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/2 [idle] waiting: awaiting for member to start","time":{"start":1722998010502,"stop":1723000017425,"duration":2006923}},{"uid":"8e9f62e48fb93d0b","reportUrl":"../3086//#testresult/8e9f62e48fb93d0b","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1722911368307,"stop":1722911408489,"duration":40182}},{"uid":"fbfd4ab8b2ff995","reportUrl":"../3081//#testresult/fbfd4ab8b2ff995","status":"passed","time":{"start":1722825087425,"stop":1722825172867,"duration":85442}},{"uid":"63a3d2ab6c0bbf9f","reportUrl":"../3080//#testresult/63a3d2ab6c0bbf9f","status":"passed","time":{"start":1722738126179,"stop":1722738213960,"duration":87781}},{"uid":"7e943a2969e969e1","reportUrl":"../3070//#testresult/7e943a2969e969e1","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-0' != 'postgresql-0'","time":{"start":1722565654020,"stop":1722565696791,"duration":42771}},{"uid":"2a85d25a4dd7f39","reportUrl":"../3067//#testresult/2a85d25a4dd7f39","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-0' != 'postgresql-0'","time":{"start":1722478821806,"stop":1722478863152,"duration":41346}},{"uid":"350d9d8eb003eb94","reportUrl":"../3056//#testresult/350d9d8eb003eb94","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1722392053237,"stop":1722392096449,"duration":43212}},{"uid":"2d9308a00dffb8fd","reportUrl":"../3034//#testresult/2d9308a00dffb8fd","status":"passed","time":{"start":1722305927630,"stop":1722306018885,"duration":91255}},{"uid":"55528a414367de17","reportUrl":"../3016//#testresult/55528a414367de17","status":"passed","time":{"start":1722219638825,"stop":1722219765934,"duration":127109}},{"uid":"e365328861ade3a5","reportUrl":"../3009//#testresult/e365328861ade3a5","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1722132959543,"stop":1722133000068,"duration":40525}},{"uid":"59c7a67ada1efc2e","reportUrl":"../3004//#testresult/59c7a67ada1efc2e","status":"passed","time":{"start":1722046557780,"stop":1722046640138,"duration":82358}},{"uid":"8ae5349e8a39d1fe","reportUrl":"../3001//#testresult/8ae5349e8a39d1fe","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1721960683520,"stop":1721960728801,"duration":45281}},{"uid":"527a1472ecf2b40d","reportUrl":"../2992//#testresult/527a1472ecf2b40d","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1721874408039,"stop":1721874457248,"duration":49209}},{"uid":"a3dd1ec98a338cb","reportUrl":"../2979//#testresult/a3dd1ec98a338cb","status":"passed","time":{"start":1721787555363,"stop":1721787648345,"duration":92982}},{"uid":"bbb57b18b69efa0d","reportUrl":"../2975//#testresult/bbb57b18b69efa0d","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1721701394756,"stop":1721701440471,"duration":45715}},{"uid":"3db6f7fa92b907fb","reportUrl":"../2969//#testresult/3db6f7fa92b907fb","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [idle] waiting: awaiting for member to start","time":{"start":1721614690179,"stop":1721616698471,"duration":2008292}},{"uid":"a3c9e2a51f0a9f84","reportUrl":"../2968//#testresult/a3c9e2a51f0a9f84","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-0' != 'postgresql-0'","time":{"start":1721528399263,"stop":1721528443487,"duration":44224}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"40ce4816a6049ea0.json","parameterValues":[]}