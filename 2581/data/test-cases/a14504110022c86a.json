{"uid":"a14504110022c86a","name":"test_restart_db_process[postgres]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"a9ad457c3a959b4124e0bcbca7775fea","time":{"start":1714788062368,"stop":1714788112456,"duration":50088},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1714786105678,"stop":1714786105678,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1714786105679,"stop":1714786105844,"duration":165},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1714786105679,"stop":1714786105679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1714787661937,"stop":1714787664010,"duration":2073},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1714788062368,"stop":1714788062368,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1714788062368,"stop":1714788062368,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"1c06f1e8819135eb","name":"log","source":"1c06f1e8819135eb.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1714788112457,"stop":1714788113475,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1714788113476,"stop":1714788113476,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1714791651041,"stop":1714791785751,"duration":134710},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fbdcc5578e0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1714791785752,"stop":1714791786130,"duration":378},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1714791786132,"stop":1714791786132,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1714791786132,"stop":1714791786132,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1714791786132,"stop":1714791786132,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1144-117"},{"name":"thread","value":"7210-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'postgres'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":75,"unknown":0,"total":77},"items":[{"uid":"70fad1bac5f74137","reportUrl":"../2578//#testresult/70fad1bac5f74137","status":"passed","time":{"start":1714701569836,"stop":1714701602028,"duration":32192}},{"uid":"60e9a4ed99f21735","reportUrl":"../2570//#testresult/60e9a4ed99f21735","status":"passed","time":{"start":1714615202342,"stop":1714615242456,"duration":40114}},{"uid":"eedb8c530bcf6455","reportUrl":"../2566//#testresult/eedb8c530bcf6455","status":"passed","time":{"start":1714529160364,"stop":1714529186227,"duration":25863}},{"uid":"d33206d501bd4671","reportUrl":"../2557//#testresult/d33206d501bd4671","status":"passed","time":{"start":1714442088649,"stop":1714442116894,"duration":28245}},{"uid":"d7d4c3546c8bf0d1","reportUrl":"../2540//#testresult/d7d4c3546c8bf0d1","status":"passed","time":{"start":1714355696956,"stop":1714355737613,"duration":40657}},{"uid":"36cd133c37d42a05","reportUrl":"../2536//#testresult/36cd133c37d42a05","status":"passed","time":{"start":1714183087419,"stop":1714183124142,"duration":36723}},{"uid":"befa094f1386ed98","reportUrl":"../2532//#testresult/befa094f1386ed98","status":"passed","time":{"start":1714097559208,"stop":1714097651272,"duration":92064}},{"uid":"ceb6d94ba36c83fd","reportUrl":"../2517//#testresult/ceb6d94ba36c83fd","status":"passed","time":{"start":1713923718819,"stop":1713923749910,"duration":31091}},{"uid":"b3d9b3c9452b61b3","reportUrl":"../2503//#testresult/b3d9b3c9452b61b3","status":"passed","time":{"start":1713837535796,"stop":1713837574107,"duration":38311}},{"uid":"70e12c0d79bcff9c","reportUrl":"../2478//#testresult/70e12c0d79bcff9c","status":"passed","time":{"start":1713750839885,"stop":1713750871546,"duration":31661}},{"uid":"97fc968594afb0e2","reportUrl":"../2477//#testresult/97fc968594afb0e2","status":"passed","time":{"start":1713664398731,"stop":1713664441749,"duration":43018}},{"uid":"6e8b090449823209","reportUrl":"../2474//#testresult/6e8b090449823209","status":"passed","time":{"start":1713578088108,"stop":1713578163509,"duration":75401}},{"uid":"cd902b783425b49c","reportUrl":"../2473//#testresult/cd902b783425b49c","status":"passed","time":{"start":1713492257452,"stop":1713492284970,"duration":27518}},{"uid":"a2228ff7c7b4274","reportUrl":"../2466//#testresult/a2228ff7c7b4274","status":"passed","time":{"start":1713405354092,"stop":1713405393174,"duration":39082}},{"uid":"defb2ab2ae830603","reportUrl":"../2461//#testresult/defb2ab2ae830603","status":"passed","time":{"start":1713318856565,"stop":1713318923653,"duration":67088}},{"uid":"89a47d191d57f650","reportUrl":"../2452//#testresult/89a47d191d57f650","status":"passed","time":{"start":1713232561664,"stop":1713232594803,"duration":33139}},{"uid":"79bd690ec50f8cec","reportUrl":"../2447//#testresult/79bd690ec50f8cec","status":"passed","time":{"start":1713059885089,"stop":1713059916516,"duration":31427}},{"uid":"2e190b628e2aca76","reportUrl":"../2430//#testresult/2e190b628e2aca76","status":"passed","time":{"start":1712887018579,"stop":1712887051303,"duration":32724}},{"uid":"e3fabd10c6b9616a","reportUrl":"../2424//#testresult/e3fabd10c6b9616a","status":"passed","time":{"start":1712800394459,"stop":1712800416035,"duration":21576}},{"uid":"eb2f817a70a8c1ce","reportUrl":"../2419//#testresult/eb2f817a70a8c1ce","status":"passed","time":{"start":1712714321332,"stop":1712714367186,"duration":45854}}]},"tags":["asyncio","group(1)"]},"source":"a14504110022c86a.json","parameterValues":["'postgres'"]}