{"uid":"e4a3bc8106eb2028","name":"test_full_cluster_restart[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"bc079a669521a660f5a86415d1c5b102","time":{"start":1720577004781,"stop":1720577062601,"duration":57820},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1720575505317,"stop":1720575505318,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1720575505318,"stop":1720575505318,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1720575505318,"stop":1720575505448,"duration":130},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1720576996701,"stop":1720576996701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1720576996702,"stop":1720577003740,"duration":7038},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1720576996702,"stop":1720576996702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1720577003740,"stop":1720577004781,"duration":1041},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1720577062601,"stop":1720577062693,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1720577062693,"stop":1720577084769,"duration":22076},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1720577084769,"stop":1720577085793,"duration":1024},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1720577085794,"stop":1720577085794,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1720577961484,"stop":1720577962038,"duration":554},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1720577962039,"stop":1720577962040,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1720577962040,"stop":1720577962040,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1720577962040,"stop":1720577962040,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1432-54"},{"name":"thread","value":"7209-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6056d2ebafe58c16","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":9,"broken":15,"skipped":0,"passed":113,"unknown":1,"total":138},"items":[{"uid":"a973bd0ea2802eb6","reportUrl":"../2915//#testresult/a973bd0ea2802eb6","status":"unknown","time":{}},{"uid":"1bf8f05d8de3b4ad","reportUrl":"../2897//#testresult/1bf8f05d8de3b4ad","status":"passed","time":{"start":1720405823217,"stop":1720405864159,"duration":40942}},{"uid":"f7839cf206545195","reportUrl":"../2896//#testresult/f7839cf206545195","status":"failed","statusDetails":"AssertionError: Unable to create continuous_writes table","time":{"start":1720319458830,"stop":1720319762885,"duration":304055}},{"uid":"a9fe1b5fe86f45b1","reportUrl":"../2895//#testresult/a9fe1b5fe86f45b1","status":"passed","time":{"start":1720232055933,"stop":1720232091716,"duration":35783}},{"uid":"2e7d115021356b6a","reportUrl":"../2884//#testresult/2e7d115021356b6a","status":"passed","time":{"start":1720145564356,"stop":1720145684773,"duration":120417}},{"uid":"f4a8a85936074668","reportUrl":"../2875//#testresult/f4a8a85936074668","status":"passed","time":{"start":1720059905151,"stop":1720060002513,"duration":97362}},{"uid":"95f9c996a74f2d09","reportUrl":"../2869//#testresult/95f9c996a74f2d09","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fe71e34e8c0 state=finished raised RetryError>]","time":{"start":1719974606879,"stop":1719974606879,"duration":0}},{"uid":"6a8a87fc59923eaf","reportUrl":"../2859//#testresult/6a8a87fc59923eaf","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fec78a55780 state=finished raised RetryError>]","time":{"start":1719886499418,"stop":1719886499418,"duration":0}},{"uid":"4c605cc2f51cbf47","reportUrl":"../2855//#testresult/4c605cc2f51cbf47","status":"passed","time":{"start":1719799708554,"stop":1719799746985,"duration":38431}},{"uid":"b80f7eb4e4525b51","reportUrl":"../2852//#testresult/b80f7eb4e4525b51","status":"passed","time":{"start":1719713172593,"stop":1719713205552,"duration":32959}},{"uid":"e0f3d058cc52e2e7","reportUrl":"../2850//#testresult/e0f3d058cc52e2e7","status":"passed","time":{"start":1719628265720,"stop":1719628298511,"duration":32791}},{"uid":"8c38c30301217f83","reportUrl":"../2848//#testresult/8c38c30301217f83","status":"passed","time":{"start":1719540360638,"stop":1719540409690,"duration":49052}},{"uid":"b720a7824b2659ed","reportUrl":"../2844//#testresult/b720a7824b2659ed","status":"passed","time":{"start":1719455144045,"stop":1719455178692,"duration":34647}},{"uid":"7a030ca30ed0111c","reportUrl":"../2827//#testresult/7a030ca30ed0111c","status":"passed","time":{"start":1719367317850,"stop":1719367356805,"duration":38955}},{"uid":"4a148e7d3293207d","reportUrl":"../2813//#testresult/4a148e7d3293207d","status":"passed","time":{"start":1719281160759,"stop":1719281214769,"duration":54010}},{"uid":"7315c263cd921c","reportUrl":"../2796//#testresult/7315c263cd921c","status":"passed","time":{"start":1719194985679,"stop":1719195018568,"duration":32889}},{"uid":"c82a6b3d72a86d12","reportUrl":"../2795//#testresult/c82a6b3d72a86d12","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7ff48b037220 state=finished raised RetryError>]","time":{"start":1719108493302,"stop":1719108493302,"duration":0}},{"uid":"ef6a5221975c641c","reportUrl":"../2794//#testresult/ef6a5221975c641c","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fd0350e9ed0 state=finished raised KeyError>]","time":{"start":1719021920783,"stop":1719022134902,"duration":214119}},{"uid":"c686eac63fd0df9","reportUrl":"../2791//#testresult/c686eac63fd0df9","status":"passed","time":{"start":1718937486627,"stop":1718937583236,"duration":96609}},{"uid":"30882899f120c1","reportUrl":"../2782//#testresult/30882899f120c1","status":"passed","time":{"start":1718849191046,"stop":1718849247360,"duration":56314}}]},"tags":["asyncio","group(1)"]},"source":"e4a3bc8106eb2028.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}