[32mINFO    [0m pytest_operator.plugin:plugin.py:784 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.1.7    unsupported  02:39:57Z

App                   Version  Status  Scale  Charm                Channel        Rev  Exposed  Message
haproxy                        active      1  haproxy              latest/stable   75  no       Unit is ready
mailman3-core                  active      1  mailman3-core        stable          17  no       Ready (source version/commit e1d5a03)
postgresql            14.10    active      4  postgresql                            0  no       
postgresql-test-app            active      1  postgresql-test-app  edge            61  no       
postgresql-test-app2           active      1  postgresql-test-app  edge            61  no       
redis                 5.0.5    active      1  omnivector-redis     latest/stable   27  no       Redis singleton available
sentry1                        active      1  omnivector-sentry    latest/stable   19  no       Redis connection details saved.
weebl                          error       1  weebl                latest/stable   24  no       hook failed: "update-status"

Unit                     Workload  Agent      Machine  Public address  Ports     Message
haproxy/0*               active    idle       6        10.162.225.179            Unit is ready
mailman3-core/0*         active    executing  2        10.162.225.110  25/tcp    Ready (source version/commit e1d5a03)
postgresql-test-app2/0*  active    idle       9        10.162.225.55             
postgresql-test-app/0*   active    idle       8        10.162.225.78             
postgresql/0             active    executing  0        10.162.225.157  5432/tcp  
postgresql/1*            active    executing  1        10.162.225.245  5432/tcp  Primary
postgresql/2             active    executing  3        10.162.225.24   5432/tcp  
postgresql/3             active    executing  4        10.162.225.212  5432/tcp  
redis/0*                 active    idle       5        10.162.225.109  6379/tcp  Redis singleton available
sentry1/0*               active    executing  7        10.162.225.199            Redis connection details saved.
weebl/0*                 error     idle       10       10.162.225.180  8080/tcp  hook failed: "update-status"

Machine  State    Address         Inst id         Base          AZ  Message
0        started  10.162.225.157  juju-a1a79d-0   ubuntu@22.04      Running
1        started  10.162.225.245  juju-a1a79d-1   ubuntu@22.04      Running
2        started  10.162.225.110  juju-a1a79d-2   ubuntu@18.04      Running
3        started  10.162.225.24   juju-a1a79d-3   ubuntu@22.04      Running
4        started  10.162.225.212  juju-a1a79d-4   ubuntu@22.04      Running
5        started  10.162.225.109  juju-a1a79d-5   ubuntu@18.04      Running
6        started  10.162.225.179  juju-a1a79d-6   ubuntu@20.04      Running
7        started  10.162.225.199  juju-a1a79d-7   ubuntu@18.04      Running
8        started  10.162.225.78   juju-a1a79d-8   ubuntu@22.04      Running
9        started  10.162.225.55   juju-a1a79d-9   ubuntu@22.04      Running
10       started  10.162.225.180  juju-a1a79d-10  ubuntu@20.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:790 Juju error logs:

machine-1: 01:31:20 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 01:31:20 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
machine-1: 01:31:20 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-postgresql-1: 01:31:21 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-0: 01:31:22 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:31:22 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:31:22 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
unit-postgresql-0: 01:31:23 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 01:38:38 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:38:38 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:38:38 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
unit-mailman3-core-0: 01:38:38 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 01:50:35 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
machine-4: 01:50:35 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 01:50:35 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-postgresql-3: 01:50:36 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-3: 01:50:37 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 01:50:37 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 01:50:37 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
unit-postgresql-2: 01:50:38 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-7: 02:18:37 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-7: 02:18:37 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-7: 02:18:37 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
unit-sentry1-0: 02:18:39 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 02:18:42 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 02:18:42 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 02:18:42 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
unit-redis-0: 02:18:44 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 02:19:25 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 02:19:25 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
machine-6: 02:19:25 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-haproxy-0: 02:19:27 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-postgresql-2: 02:27:24 ERROR unit.postgresql/2.juju-log database-peers:1: Uncaught exception while in charm code:
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-2/charm/./src/charm.py", line 1516, in <module>
    main(PostgresqlOperatorCharm)
  File "/var/lib/juju/agents/unit-postgresql-2/charm/venv/ops/main.py", line 436, in main
    _emit_charm_event(charm, dispatcher.event_name)
  File "/var/lib/juju/agents/unit-postgresql-2/charm/venv/ops/main.py", line 144, in _emit_charm_event
    event_to_emit.emit(*args, **kwargs)
  File "/var/lib/juju/agents/unit-postgresql-2/charm/venv/ops/framework.py", line 351, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-postgresql-2/charm/venv/ops/framework.py", line 853, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-postgresql-2/charm/venv/ops/framework.py", line 942, in _reemit
    custom_handler(event)
  File "/var/lib/juju/agents/unit-postgresql-2/charm/./src/charm.py", line 463, in _on_peer_relation_changed
    self.update_config()
  File "/var/lib/juju/agents/unit-postgresql-2/charm/./src/charm.py", line 1428, in update_config
    self._validate_config_options()
  File "/var/lib/juju/agents/unit-postgresql-2/charm/./src/charm.py", line 1473, in _validate_config_options
    not in self.postgresql.get_postgresql_text_search_configs()
  File "/var/lib/juju/agents/unit-postgresql-2/charm/lib/charms/postgresql_k8s/v0/postgresql.py", line 391, in get_postgresql_text_search_configs
    with self._connect_to_database(
  File "/var/lib/juju/agents/unit-postgresql-2/charm/lib/charms/postgresql_k8s/v0/postgresql.py", line 127, in _connect_to_database
    connection = psycopg2.connect(
  File "/var/lib/juju/agents/unit-postgresql-2/charm/venv/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: connection to server at "10.162.225.24", port 5432 failed: timeout expired

unit-postgresql-2: 02:27:25 ERROR juju.worker.uniter.operation hook "database-peers-relation-changed" (via hook dispatching script: dispatch) failed: exit status 1
unit-postgresql-1: 02:29:58 ERROR unit.postgresql/1.juju-log db:6: ERROR - `extensions` (citext) cannot be requested through relations - Please enable extensions through `juju config` and add the relation again.
machine-10: 02:35:42 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-10: 02:35:42 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-10: 02:35:42 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
unit-weebl-0: 02:35:47 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-8: 02:37:25 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-8: 02:37:25 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-8: 02:37:25 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
unit-postgresql-test-app-0: 02:37:28 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-9: 02:37:38 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-9: 02:37:38 ERROR juju.worker.dependency "broker-tracker" manifold worker returned unexpected error: no container types determined
machine-9: 02:37:38 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-postgresql-test-app2-0: 02:37:41 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-weebl-0: 02:39:39 ERROR unit.weebl/0.juju-log Uncaught exception while in charm code:
Traceback (most recent call last):
  File "./src/charm.py", line 670, in <module>
    main(CharmedWeeblOperator)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/main.py", line 441, in main
    _emit_charm_event(charm, dispatcher.event_name)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/main.py", line 149, in _emit_charm_event
    event_to_emit.emit(*args, **kwargs)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 344, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 841, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 930, in _reemit
    custom_handler(event)
  File "./src/charm.py", line 346, in _handle_status_state
    self.on.backup_to_swift.emit()
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 344, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 841, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 930, in _reemit
    custom_handler(event)
  File "./src/charm.py", line 621, in _on_backup_to_swift_action
    event.fail(
AttributeError: 'WeeblCloudBackupTriggered' object has no attribute 'fail'
unit-weebl-0: 02:39:39 ERROR juju.worker.uniter.operation hook "update-status" (via hook dispatching script: dispatch) failed: exit status 1
unit-weebl-0: 02:39:52 ERROR unit.weebl/0.juju-log Uncaught exception while in charm code:
Traceback (most recent call last):
  File "./src/charm.py", line 670, in <module>
    main(CharmedWeeblOperator)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/main.py", line 441, in main
    _emit_charm_event(charm, dispatcher.event_name)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/main.py", line 149, in _emit_charm_event
    event_to_emit.emit(*args, **kwargs)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 344, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 841, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 930, in _reemit
    custom_handler(event)
  File "./src/charm.py", line 346, in _handle_status_state
    self.on.backup_to_swift.emit()
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 344, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 841, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-weebl-0/charm/venv/ops/framework.py", line 930, in _reemit
    custom_handler(event)
  File "./src/charm.py", line 621, in _on_backup_to_swift_action
    event.fail(
AttributeError: 'WeeblCloudBackupTriggered' object has no attribute 'fail'
unit-weebl-0: 02:39:53 ERROR juju.worker.uniter.operation hook "update-status" (via hook dispatching script: dispatch) failed: exit status 1

[32mINFO    [0m pytest_operator.plugin:plugin.py:856 Forgetting main...