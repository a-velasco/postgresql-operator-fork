{"uid":"cffa080f639c82a4","name":"test_sentry_db_blocked","fullName":"tests.integration.test_db#test_sentry_db_blocked","historyId":"7a858380f28f41c43de172faf0984836","time":{"start":1708827114418,"stop":1708828046986,"duration":932568},"status":"failed","statusMessage":"AssertionError: assert 'Primary' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + Primary","statusTrace":"Traceback (most recent call last):\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/tests/integration/test_db.py\", line 261, in test_sentry_db_blocked\n    assert (\nAssertionError: assert 'Primary' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + Primary","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1708824518782,"stop":1708824518783,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1708824518783,"stop":1708824519198,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1708824518783,"stop":1708824518783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1708824519198,"stop":1708824519199,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1708827114417,"stop":1708827114418,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'Primary' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + Primary","statusTrace":"Traceback (most recent call last):\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/tests/integration/test_db.py\", line 261, in test_sentry_db_blocked\n    assert (\nAssertionError: assert 'Primary' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + Primary","steps":[],"attachments":[{"uid":"886b7b8256dfc6da","name":"log","source":"886b7b8256dfc6da.txt","type":"text/plain","size":4505}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1708828047042,"stop":1708828047042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm::finalizer","time":{"start":1708828780419,"stop":1708828780422,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1708828780428,"stop":1708828802136,"duration":21708},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1708828802152,"stop":1708828802162,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1708828802162,"stop":1708828802162,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1708828802162,"stop":1708828802172,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_db"},{"name":"host","value":"large-299-85391c8cb077ce3d4eb0b4e5"},{"name":"thread","value":"15742-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":7,"broken":3,"skipped":0,"passed":14,"unknown":0,"total":24},"items":[{"uid":"81487962e4cf955b","reportUrl":"../2061//#testresult/81487962e4cf955b","status":"passed","time":{"start":1708740814336,"stop":1708741994315,"duration":1179979}},{"uid":"bed90482a0fba70b","reportUrl":"../2055//#testresult/bed90482a0fba70b","status":"passed","time":{"start":1708654168291,"stop":1708655511853,"duration":1343562}},{"uid":"926d60c8815aafa","reportUrl":"../2040//#testresult/926d60c8815aafa","status":"passed","time":{"start":1708568142567,"stop":1708569194663,"duration":1052096}},{"uid":"f1970d639eff8cf0","reportUrl":"../2032//#testresult/f1970d639eff8cf0","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nsentry1/0 [executing] blocked: Need redis info via config or relation to proceed","time":{"start":1708481763513,"stop":1708482766825,"duration":1003312}},{"uid":"2d2ce5af42e62cd","reportUrl":"../2027//#testresult/2d2ce5af42e62cd","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nsentry1/0 [executing] blocked: Need redis info via config or relation to proceed","time":{"start":1708395198625,"stop":1708396203841,"duration":1005216}},{"uid":"2cb10a26e03b5cdc","reportUrl":"../2022//#testresult/2cb10a26e03b5cdc","status":"passed","time":{"start":1708222451020,"stop":1708223555345,"duration":1104325}},{"uid":"dd4bd890434b0cb8","reportUrl":"../2019//#testresult/dd4bd890434b0cb8","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nsentry1/0 [executing] blocked: Need redis info via config or relation to proceed","time":{"start":1708135880993,"stop":1708136885347,"duration":1004354}},{"uid":"de47602bfb47f866","reportUrl":"../2013//#testresult/de47602bfb47f866","status":"passed","time":{"start":1708049709372,"stop":1708050599331,"duration":889959}},{"uid":"b37958c98e7d48c8","reportUrl":"../2008//#testresult/b37958c98e7d48c8","status":"failed","statusDetails":"AssertionError: assert 'no primary in the cluster' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + no primary in the cluster","time":{"start":1707965757138,"stop":1707966185206,"duration":428068}},{"uid":"ba57290b0fb2bc94","reportUrl":"../1996//#testresult/ba57290b0fb2bc94","status":"failed","statusDetails":"AssertionError: assert 'no primary in the cluster' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + no primary in the cluster","time":{"start":1707706311248,"stop":1707706659489,"duration":348241}},{"uid":"8a03b43e667f0fdb","reportUrl":"../1995//#testresult/8a03b43e667f0fdb","status":"passed","time":{"start":1707618166997,"stop":1707619165904,"duration":998907}},{"uid":"a286d3f35a7523cf","reportUrl":"../1993//#testresult/a286d3f35a7523cf","status":"passed","time":{"start":1707531248427,"stop":1707532360489,"duration":1112062}},{"uid":"a0d072ce805ef004","reportUrl":"../1990//#testresult/a0d072ce805ef004","status":"passed","time":{"start":1707444217766,"stop":1707445178034,"duration":960268}},{"uid":"f1b5b71ef17c742c","reportUrl":"../1988//#testresult/f1b5b71ef17c742c","status":"failed","statusDetails":"AssertionError: assert 'no primary in the cluster' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + no primary in the cluster","time":{"start":1707360735772,"stop":1707361157700,"duration":421928}},{"uid":"8928a8d953ea386","reportUrl":"../1973//#testresult/8928a8d953ea386","status":"passed","time":{"start":1707271196227,"stop":1707271774816,"duration":578589}},{"uid":"be183cde7b4fde93","reportUrl":"../1961//#testresult/be183cde7b4fde93","status":"failed","statusDetails":"AssertionError: assert 'no primary in the cluster' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + no primary in the cluster","time":{"start":1707187860402,"stop":1707188140328,"duration":279926}},{"uid":"9ee037002f43a53f","reportUrl":"../1957//#testresult/9ee037002f43a53f","status":"passed","time":{"start":1707098727269,"stop":1707099716804,"duration":989535}},{"uid":"53f1be13db45894","reportUrl":"../1956//#testresult/53f1be13db45894","status":"failed","statusDetails":"AssertionError: assert 'no primary in the cluster' == 'extensions r...onfig options'\n  - extensions requested through relation, enable them through config options\n  + no primary in the cluster","time":{"start":1707014585672,"stop":1707014873341,"duration":287669}},{"uid":"a6aa895f7f5eb312","reportUrl":"../1955//#testresult/a6aa895f7f5eb312","status":"passed","time":{"start":1706925814625,"stop":1706926882419,"duration":1067794}},{"uid":"6174fc7d13e50799","reportUrl":"../1939//#testresult/6174fc7d13e50799","status":"passed","time":{"start":1706755382598,"stop":1706756499310,"duration":1116712}}]},"tags":["asyncio","group(1)"]},"source":"cffa080f639c82a4.json","parameterValues":[]}