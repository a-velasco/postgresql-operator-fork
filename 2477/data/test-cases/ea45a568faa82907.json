{"uid":"ea45a568faa82907","name":"test_kill_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_kill_db_process","historyId":"85824afea517bba06e5931d839f6ff8d","time":{"start":1713664111080,"stop":1713664142764,"duration":31684},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1713662915566,"stop":1713662915566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1713662915566,"stop":1713662915566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1713662915567,"stop":1713662915702,"duration":135},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1713664061996,"stop":1713664064072,"duration":2076},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1713664111079,"stop":1713664111080,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1713664111080,"stop":1713664111080,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"44b985607af07b96","name":"log","source":"44b985607af07b96.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1713664142765,"stop":1713664143784,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1713664143785,"stop":1713664143785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1713665962907,"stop":1713666097028,"duration":134121},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fe15cdd96f0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 130, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1713666097029,"stop":1713666097301,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1713666097302,"stop":1713666097302,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1713666097302,"stop":1713666097302,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1713666097302,"stop":1713666097303,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az975-714"},{"name":"thread","value":"8354-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":64,"unknown":0,"total":66},"items":[{"uid":"1181abb89fc99e1c","reportUrl":"../2474//#testresult/1181abb89fc99e1c","status":"passed","time":{"start":1713577864648,"stop":1713577887639,"duration":22991}},{"uid":"347f49c68435634d","reportUrl":"../2473//#testresult/347f49c68435634d","status":"passed","time":{"start":1713492026889,"stop":1713492054290,"duration":27401}},{"uid":"203262d6e729b07f","reportUrl":"../2466//#testresult/203262d6e729b07f","status":"passed","time":{"start":1713405131694,"stop":1713405157545,"duration":25851}},{"uid":"28a41cf664e2bfbf","reportUrl":"../2461//#testresult/28a41cf664e2bfbf","status":"passed","time":{"start":1713318615345,"stop":1713318653196,"duration":37851}},{"uid":"72514cf04b953335","reportUrl":"../2452//#testresult/72514cf04b953335","status":"passed","time":{"start":1713232243287,"stop":1713232300233,"duration":56946}},{"uid":"98e979b4db46eb2c","reportUrl":"../2447//#testresult/98e979b4db46eb2c","status":"passed","time":{"start":1713059637805,"stop":1713059668730,"duration":30925}},{"uid":"f2a258d5a3b6ad93","reportUrl":"../2430//#testresult/f2a258d5a3b6ad93","status":"passed","time":{"start":1712886770840,"stop":1712886822541,"duration":51701}},{"uid":"c8385d4220110474","reportUrl":"../2424//#testresult/c8385d4220110474","status":"passed","time":{"start":1712800121055,"stop":1712800148794,"duration":27739}},{"uid":"8aaa351c86e208b0","reportUrl":"../2419//#testresult/8aaa351c86e208b0","status":"passed","time":{"start":1712714088338,"stop":1712714117370,"duration":29032}},{"uid":"e5e9774a86c62a07","reportUrl":"../2416//#testresult/e5e9774a86c62a07","status":"passed","time":{"start":1712627596374,"stop":1712627627725,"duration":31351}},{"uid":"aec5c6ea538dead6","reportUrl":"../2409//#testresult/aec5c6ea538dead6","status":"passed","time":{"start":1712540952297,"stop":1712540987029,"duration":34732}},{"uid":"2cd3f01583f798da","reportUrl":"../2408//#testresult/2cd3f01583f798da","status":"passed","time":{"start":1712454816806,"stop":1712454852176,"duration":35370}},{"uid":"96eca66848b4bcde","reportUrl":"../2407//#testresult/96eca66848b4bcde","status":"passed","time":{"start":1712368115231,"stop":1712368156050,"duration":40819}},{"uid":"88e820926ece7b1f","reportUrl":"../2362//#testresult/88e820926ece7b1f","status":"passed","time":{"start":1712281846863,"stop":1712281873768,"duration":26905}},{"uid":"3034ea51d855262d","reportUrl":"../2343//#testresult/3034ea51d855262d","status":"passed","time":{"start":1712195392851,"stop":1712195424057,"duration":31206}},{"uid":"dba9eaa4700597dc","reportUrl":"../2330//#testresult/dba9eaa4700597dc","status":"passed","time":{"start":1712109212602,"stop":1712109244628,"duration":32026}},{"uid":"7d10cbd1df555180","reportUrl":"../2327//#testresult/7d10cbd1df555180","status":"passed","time":{"start":1712022702808,"stop":1712022735129,"duration":32321}},{"uid":"dd4579547801c160","reportUrl":"../2324//#testresult/dd4579547801c160","status":"passed","time":{"start":1711936360255,"stop":1711936393058,"duration":32803}},{"uid":"993b7dbb0c7008f1","reportUrl":"../2323//#testresult/993b7dbb0c7008f1","status":"passed","time":{"start":1711849891666,"stop":1711849931672,"duration":40006}},{"uid":"2228d828d44e54dd","reportUrl":"../2322//#testresult/2228d828d44e54dd","status":"passed","time":{"start":1711763266681,"stop":1711763297834,"duration":31153}}]},"tags":["asyncio","group(1)"]},"source":"ea45a568faa82907.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}