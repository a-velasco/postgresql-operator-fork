{"uid":"c686eac63fd0df9","name":"test_full_cluster_restart[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"bc079a669521a660f5a86415d1c5b102","time":{"start":1718937486627,"stop":1718937583236,"duration":96609},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1718933625972,"stop":1718933625973,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1718933625973,"stop":1718933625973,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1718933625973,"stop":1718933626104,"duration":131},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1718937470451,"stop":1718937470451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1718937470452,"stop":1718937470452,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1718937470452,"stop":1718937485590,"duration":15138},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1718937485591,"stop":1718937486626,"duration":1035},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1718937583236,"stop":1718937583330,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1718937583330,"stop":1718937594035,"duration":10705},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1718937594035,"stop":1718937595055,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1718937595056,"stop":1718937595056,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1718938374147,"stop":1718938374604,"duration":457},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1718938374604,"stop":1718938374606,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1718938374607,"stop":1718938374607,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1718938374607,"stop":1718938374607,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az658-431"},{"name":"thread","value":"7099-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f3ee72f1da7805c1","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":8,"broken":11,"skipped":0,"passed":100,"unknown":0,"total":119},"items":[{"uid":"30882899f120c1","reportUrl":"../2782//#testresult/30882899f120c1","status":"passed","time":{"start":1718849191046,"stop":1718849247360,"duration":56314}},{"uid":"1aefd4e9d702507c","reportUrl":"../2776//#testresult/1aefd4e9d702507c","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f9e1dd42dd0 state=finished raised RetryError>]","time":{"start":1718764649125,"stop":1718764649125,"duration":0}},{"uid":"77746f44ce5b0a84","reportUrl":"../2762//#testresult/77746f44ce5b0a84","status":"passed","time":{"start":1718677500825,"stop":1718677534287,"duration":33462}},{"uid":"ea9d735a47a6ab4","reportUrl":"../2752//#testresult/ea9d735a47a6ab4","status":"failed","statusDetails":"AssertionError: members report different lists of cluster members.","time":{"start":1718589819315,"stop":1718589878017,"duration":58702}},{"uid":"8fb7afb3b943d6ab","reportUrl":"../2751//#testresult/8fb7afb3b943d6ab","status":"passed","time":{"start":1718503880757,"stop":1718503913166,"duration":32409}},{"uid":"208caf0e263ceb7a","reportUrl":"../2748//#testresult/208caf0e263ceb7a","status":"failed","statusDetails":"AssertionError: Unable to create continuous_writes table","time":{"start":1718421611031,"stop":1718421923472,"duration":312441}},{"uid":"f077da7f3a9c9bde","reportUrl":"../2744//#testresult/f077da7f3a9c9bde","status":"passed","time":{"start":1718333827127,"stop":1718333861687,"duration":34560}},{"uid":"a6ae3a96b91ba5b2","reportUrl":"../2730//#testresult/a6ae3a96b91ba5b2","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f3bef2c30d0 state=finished raised AssertionError>]","time":{"start":1718248353292,"stop":1718248565496,"duration":212204}},{"uid":"9599f7c2a2cbc448","reportUrl":"../2724//#testresult/9599f7c2a2cbc448","status":"passed","time":{"start":1718158489042,"stop":1718158526011,"duration":36969}},{"uid":"f3c5e1adfc2d85f3","reportUrl":"../2717//#testresult/f3c5e1adfc2d85f3","status":"passed","time":{"start":1717813646937,"stop":1717813692687,"duration":45750}},{"uid":"2b9b08268ed73493","reportUrl":"../2712//#testresult/2b9b08268ed73493","status":"passed","time":{"start":1717727049045,"stop":1717727080613,"duration":31568}},{"uid":"3271234f00785531","reportUrl":"../2707//#testresult/3271234f00785531","status":"passed","time":{"start":1717640058160,"stop":1717640091420,"duration":33260}},{"uid":"3b7c8f11d85cbb06","reportUrl":"../2697//#testresult/3b7c8f11d85cbb06","status":"passed","time":{"start":1717553493209,"stop":1717553529221,"duration":36012}},{"uid":"4c5702f7f158f804","reportUrl":"../2687//#testresult/4c5702f7f158f804","status":"passed","time":{"start":1717467996184,"stop":1717468070586,"duration":74402}},{"uid":"eab395d405da4274","reportUrl":"../2679//#testresult/eab395d405da4274","status":"passed","time":{"start":1717294358347,"stop":1717294398157,"duration":39810}},{"uid":"4d58211ab9967272","reportUrl":"../2678//#testresult/4d58211ab9967272","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f3eb916e770 state=finished raised RetryError>]","time":{"start":1717208830017,"stop":1717208830017,"duration":0}},{"uid":"c5ad6e4af9185699","reportUrl":"../2673//#testresult/c5ad6e4af9185699","status":"passed","time":{"start":1717121380249,"stop":1717121416101,"duration":35852}},{"uid":"97fec766913b9f72","reportUrl":"../2656//#testresult/97fec766913b9f72","status":"passed","time":{"start":1716863071447,"stop":1716863103881,"duration":32434}},{"uid":"73e333b0a904f956","reportUrl":"../2646//#testresult/73e333b0a904f956","status":"passed","time":{"start":1716775637673,"stop":1716775667310,"duration":29637}},{"uid":"16eaf10ff67dbf18","reportUrl":"../2645//#testresult/16eaf10ff67dbf18","status":"failed","statusDetails":"AssertionError: unit postgresql/0 not restarted after cluster restart.\nassert False","time":{"start":1716689314758,"stop":1716689765509,"duration":450751}}]},"tags":["asyncio","group(1)"]},"source":"c686eac63fd0df9.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}