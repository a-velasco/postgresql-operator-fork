{"uid":"491de12f266b06e1","name":"test_freeze_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"8fac570613189c2919a673774a1a29dd","time":{"start":1721872904817,"stop":1721873009223,"duration":104406},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721871590830,"stop":1721871590831,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721871590831,"stop":1721871590981,"duration":150},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721871590831,"stop":1721871590831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1721872726439,"stop":1721872728510,"duration":2071},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721872904817,"stop":1721872904817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1721872904817,"stop":1721872904817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"d097d4622326e00e","name":"log","source":"d097d4622326e00e.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1721873009224,"stop":1721873010241,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1721873010242,"stop":1721873010242,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1721874619265,"stop":1721874753029,"duration":133764},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f30f7454b50 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 151, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721874753030,"stop":1721874753348,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721874753349,"stop":1721874753350,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721874753350,"stop":1721874753350,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721874753350,"stop":1721874753350,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az885-848"},{"name":"thread","value":"7656-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b7d838e587042dc7","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":11,"broken":2,"skipped":0,"passed":139,"unknown":1,"total":153},"items":[{"uid":"17b0cbb141f8c84a","reportUrl":"../2979//#testresult/17b0cbb141f8c84a","status":"passed","time":{"start":1721786706845,"stop":1721786808154,"duration":101309}},{"uid":"93eaf8dcda0e88ef","reportUrl":"../2975//#testresult/93eaf8dcda0e88ef","status":"passed","time":{"start":1721701138152,"stop":1721701241626,"duration":103474}},{"uid":"f63d51ffb10c36f","reportUrl":"../2969//#testresult/f63d51ffb10c36f","status":"passed","time":{"start":1721613499539,"stop":1721613602493,"duration":102954}},{"uid":"d8a68bf50a045597","reportUrl":"../2968//#testresult/d8a68bf50a045597","status":"passed","time":{"start":1721527170831,"stop":1721527331930,"duration":161099}},{"uid":"bd58a2882d6570af","reportUrl":"../2967//#testresult/bd58a2882d6570af","status":"passed","time":{"start":1721440717711,"stop":1721440864356,"duration":146645}},{"uid":"2109562fdbb45b0b","reportUrl":"../2957//#testresult/2109562fdbb45b0b","status":"passed","time":{"start":1721357391882,"stop":1721357499035,"duration":107153}},{"uid":"b2d61c758796896f","reportUrl":"../2951//#testresult/b2d61c758796896f","status":"passed","time":{"start":1721267853337,"stop":1721267969938,"duration":116601}},{"uid":"f45ea296dc1b2aca","reportUrl":"../2947//#testresult/f45ea296dc1b2aca","status":"passed","time":{"start":1721181683888,"stop":1721181843505,"duration":159617}},{"uid":"117f249377abc735","reportUrl":"../2944//#testresult/117f249377abc735","status":"passed","time":{"start":1721095191360,"stop":1721095299138,"duration":107778}},{"uid":"12768861e7bcabf","reportUrl":"../2936//#testresult/12768861e7bcabf","status":"passed","time":{"start":1721009259345,"stop":1721009360582,"duration":101237}},{"uid":"8a21d47f07a68cc1","reportUrl":"../2935//#testresult/8a21d47f07a68cc1","status":"passed","time":{"start":1720922304953,"stop":1720922407596,"duration":102643}},{"uid":"67f1dcae33ae907","reportUrl":"../2934//#testresult/67f1dcae33ae907","status":"failed","statusDetails":"AssertionError: Unable to clear up continuous_writes table\nassert 'False' == 'True'\n  \n  - True\n  + False","time":{"start":1720836039852,"stop":1720836145682,"duration":105830}},{"uid":"296f77395f1d6766","reportUrl":"../2932//#testresult/296f77395f1d6766","status":"passed","time":{"start":1720750195818,"stop":1720750360115,"duration":164297}},{"uid":"835209799a639e3a","reportUrl":"../2925//#testresult/835209799a639e3a","status":"passed","time":{"start":1720663724092,"stop":1720663857858,"duration":133766}},{"uid":"c1fb1ad28e5e1e5c","reportUrl":"../2918//#testresult/c1fb1ad28e5e1e5c","status":"passed","time":{"start":1720576646044,"stop":1720576751990,"duration":105946}},{"uid":"1a365c3d452fec9a","reportUrl":"../2915//#testresult/1a365c3d452fec9a","status":"unknown","time":{}},{"uid":"db40c7c3c2f7270e","reportUrl":"../2897//#testresult/db40c7c3c2f7270e","status":"passed","time":{"start":1720403832623,"stop":1720403932438,"duration":99815}},{"uid":"7bdd61bbc319e724","reportUrl":"../2896//#testresult/7bdd61bbc319e724","status":"passed","time":{"start":1720318233921,"stop":1720318337922,"duration":104001}},{"uid":"c3f65a260897874d","reportUrl":"../2895//#testresult/c3f65a260897874d","status":"passed","time":{"start":1720231675703,"stop":1720231791088,"duration":115385}},{"uid":"2818059f851ffb17","reportUrl":"../2884//#testresult/2818059f851ffb17","status":"passed","time":{"start":1720144796217,"stop":1720144900480,"duration":104263}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"491de12f266b06e1.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}