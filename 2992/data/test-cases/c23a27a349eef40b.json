{"uid":"c23a27a349eef40b","name":"test_kill_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_kill_db_process","historyId":"85824afea517bba06e5931d839f6ff8d","time":{"start":1721872763363,"stop":1721872796009,"duration":32646},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721871590830,"stop":1721871590831,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721871590831,"stop":1721871590981,"duration":150},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721871590831,"stop":1721871590831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1721872726439,"stop":1721872728510,"duration":2071},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721872763362,"stop":1721872763362,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1721872763363,"stop":1721872763363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"5bdaba0ca3cec87b","name":"log","source":"5bdaba0ca3cec87b.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1721872796010,"stop":1721872797029,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1721872797029,"stop":1721872797029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1721874619265,"stop":1721874753029,"duration":133764},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f30f7454b50 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 151, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721874753030,"stop":1721874753348,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721874753349,"stop":1721874753350,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721874753350,"stop":1721874753350,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721874753350,"stop":1721874753350,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az885-848"},{"name":"thread","value":"7656-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"97d79a9def1c6a6b","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":4,"broken":2,"skipped":0,"passed":146,"unknown":1,"total":153},"items":[{"uid":"9dbbbc16a0997a1c","reportUrl":"../2979//#testresult/9dbbbc16a0997a1c","status":"passed","time":{"start":1721786567827,"stop":1721786599411,"duration":31584}},{"uid":"494a68c96413a9af","reportUrl":"../2975//#testresult/494a68c96413a9af","status":"passed","time":{"start":1721700998924,"stop":1721701033610,"duration":34686}},{"uid":"982cc8f7cb328d4b","reportUrl":"../2969//#testresult/982cc8f7cb328d4b","status":"passed","time":{"start":1721613348695,"stop":1721613383903,"duration":35208}},{"uid":"1826e62dc5542e32","reportUrl":"../2968//#testresult/1826e62dc5542e32","status":"passed","time":{"start":1721527030563,"stop":1721527063896,"duration":33333}},{"uid":"528580bf1004dafb","reportUrl":"../2967//#testresult/528580bf1004dafb","status":"passed","time":{"start":1721440564761,"stop":1721440604893,"duration":40132}},{"uid":"9042c613959393f7","reportUrl":"../2957//#testresult/9042c613959393f7","status":"passed","time":{"start":1721357245327,"stop":1721357278923,"duration":33596}},{"uid":"b99819ac88da0","reportUrl":"../2951//#testresult/b99819ac88da0","status":"passed","time":{"start":1721267710249,"stop":1721267739427,"duration":29178}},{"uid":"3ee8c2781c09a67a","reportUrl":"../2947//#testresult/3ee8c2781c09a67a","status":"passed","time":{"start":1721181494680,"stop":1721181574343,"duration":79663}},{"uid":"fa820ed6cada558f","reportUrl":"../2944//#testresult/fa820ed6cada558f","status":"passed","time":{"start":1721095064810,"stop":1721095092699,"duration":27889}},{"uid":"11d65d4eededd9","reportUrl":"../2936//#testresult/11d65d4eededd9","status":"passed","time":{"start":1721009126526,"stop":1721009155673,"duration":29147}},{"uid":"e1ea06cb699d5e04","reportUrl":"../2935//#testresult/e1ea06cb699d5e04","status":"passed","time":{"start":1720922150529,"stop":1720922196451,"duration":45922}},{"uid":"6fbf5fb348da7ba8","reportUrl":"../2934//#testresult/6fbf5fb348da7ba8","status":"passed","time":{"start":1720835904576,"stop":1720835937994,"duration":33418}},{"uid":"4b3efecdc94dae2f","reportUrl":"../2932//#testresult/4b3efecdc94dae2f","status":"passed","time":{"start":1720750052120,"stop":1720750085487,"duration":33367}},{"uid":"4637722f75d37020","reportUrl":"../2925//#testresult/4637722f75d37020","status":"passed","time":{"start":1720663586810,"stop":1720663616552,"duration":29742}},{"uid":"b4f38821a9e13916","reportUrl":"../2918//#testresult/b4f38821a9e13916","status":"passed","time":{"start":1720576514616,"stop":1720576540044,"duration":25428}},{"uid":"706e0a1d16fbaf5","reportUrl":"../2915//#testresult/706e0a1d16fbaf5","status":"unknown","time":{}},{"uid":"7f81c173cd9542ce","reportUrl":"../2897//#testresult/7f81c173cd9542ce","status":"passed","time":{"start":1720403694441,"stop":1720403727638,"duration":33197}},{"uid":"815a3e52ad62eef3","reportUrl":"../2896//#testresult/815a3e52ad62eef3","status":"passed","time":{"start":1720318083562,"stop":1720318123023,"duration":39461}},{"uid":"706c4ed31f27a2ff","reportUrl":"../2895//#testresult/706c4ed31f27a2ff","status":"passed","time":{"start":1720231539313,"stop":1720231571439,"duration":32126}},{"uid":"2daf04fd85d71e3e","reportUrl":"../2884//#testresult/2daf04fd85d71e3e","status":"passed","time":{"start":1720144647677,"stop":1720144688995,"duration":41318}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"c23a27a349eef40b.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}