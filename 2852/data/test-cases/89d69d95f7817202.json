{"uid":"89d69d95f7817202","name":"test_kill_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_kill_db_process","historyId":"85824afea517bba06e5931d839f6ff8d","time":{"start":1719712665352,"stop":1719712698744,"duration":33392},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1719711503424,"stop":1719711503425,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1719711503425,"stop":1719711503425,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719711503425,"stop":1719711503554,"duration":129},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1719712628654,"stop":1719712630728,"duration":2074},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719712665352,"stop":1719712665352,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719712665352,"stop":1719712665352,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"f4f3b153b05de05e","name":"log","source":"f4f3b153b05de05e.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1719712698745,"stop":1719712699765,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719712699766,"stop":1719712699766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1719714532785,"stop":1719714666803,"duration":134018},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f6287bd5ea0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719714666804,"stop":1719714667204,"duration":400},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719714667205,"stop":1719714667205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719714667205,"stop":1719714667205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719714667205,"stop":1719714667205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1205-506"},{"name":"thread","value":"7290-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"709af1aff9c092d3","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":4,"broken":1,"skipped":0,"passed":123,"unknown":0,"total":128},"items":[{"uid":"33e7bc66d8180a45","reportUrl":"../2850//#testresult/33e7bc66d8180a45","status":"passed","time":{"start":1719626024342,"stop":1719626053315,"duration":28973}},{"uid":"3ef650460a54863a","reportUrl":"../2848//#testresult/3ef650460a54863a","status":"passed","time":{"start":1719539778860,"stop":1719539814882,"duration":36022}},{"uid":"15d6be1d8fc156cd","reportUrl":"../2844//#testresult/15d6be1d8fc156cd","status":"passed","time":{"start":1719453133019,"stop":1719453163835,"duration":30816}},{"uid":"bf05c83e3f1efedb","reportUrl":"../2827//#testresult/bf05c83e3f1efedb","status":"passed","time":{"start":1719366755241,"stop":1719366789441,"duration":34200}},{"uid":"b244c2b59d2d9a6a","reportUrl":"../2813//#testresult/b244c2b59d2d9a6a","status":"passed","time":{"start":1719280541883,"stop":1719280581886,"duration":40003}},{"uid":"841e87d26ffee6e3","reportUrl":"../2796//#testresult/841e87d26ffee6e3","status":"passed","time":{"start":1719194369223,"stop":1719194399492,"duration":30269}},{"uid":"a26b65312ecbd7c1","reportUrl":"../2795//#testresult/a26b65312ecbd7c1","status":"passed","time":{"start":1719107733079,"stop":1719107762051,"duration":28972}},{"uid":"23c8c8dcd2964ad4","reportUrl":"../2794//#testresult/23c8c8dcd2964ad4","status":"passed","time":{"start":1719021235999,"stop":1719021283109,"duration":47110}},{"uid":"a8bc9db3ea438ae9","reportUrl":"../2791//#testresult/a8bc9db3ea438ae9","status":"passed","time":{"start":1718934939563,"stop":1718934972819,"duration":33256}},{"uid":"a3123a9895870db6","reportUrl":"../2782//#testresult/a3123a9895870db6","status":"passed","time":{"start":1718848527868,"stop":1718848559487,"duration":31619}},{"uid":"45a64604ad60bab4","reportUrl":"../2776//#testresult/45a64604ad60bab4","status":"passed","time":{"start":1718762277667,"stop":1718762312376,"duration":34709}},{"uid":"882b199944c65984","reportUrl":"../2762//#testresult/882b199944c65984","status":"passed","time":{"start":1718675971873,"stop":1718676005512,"duration":33639}},{"uid":"21c32eb42b074574","reportUrl":"../2752//#testresult/21c32eb42b074574","status":"passed","time":{"start":1718589220795,"stop":1718589252428,"duration":31633}},{"uid":"5d05ea77273cf8d4","reportUrl":"../2751//#testresult/5d05ea77273cf8d4","status":"passed","time":{"start":1718503106518,"stop":1718503141461,"duration":34943}},{"uid":"79e72b6fa36e7bd4","reportUrl":"../2748//#testresult/79e72b6fa36e7bd4","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f0c706f6200 state=finished raised AssertionError>]","time":{"start":1718416792771,"stop":1718416983683,"duration":190912}},{"uid":"90b7ffe0d7789d59","reportUrl":"../2744//#testresult/90b7ffe0d7789d59","status":"passed","time":{"start":1718330900976,"stop":1718330936294,"duration":35318}},{"uid":"36fd93b6abad1888","reportUrl":"../2730//#testresult/36fd93b6abad1888","status":"passed","time":{"start":1718245225159,"stop":1718245305795,"duration":80636}},{"uid":"9f1d745a80683ca1","reportUrl":"../2724//#testresult/9f1d745a80683ca1","status":"passed","time":{"start":1718157787509,"stop":1718157822562,"duration":35053}},{"uid":"3787197927ba1aec","reportUrl":"../2717//#testresult/3787197927ba1aec","status":"passed","time":{"start":1717812229976,"stop":1717812262109,"duration":32133}},{"uid":"d35b7f3f9b475140","reportUrl":"../2712//#testresult/d35b7f3f9b475140","status":"passed","time":{"start":1717726454536,"stop":1717726497231,"duration":42695}}]},"tags":["asyncio","group(1)"]},"source":"89d69d95f7817202.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}