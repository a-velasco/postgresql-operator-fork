{"uid":"43f9aeed4333992d","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1720060207839,"stop":1720060762865,"duration":555026},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1720057979875,"stop":1720057979876,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1720057979876,"stop":1720057979876,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1720057979876,"stop":1720057980009,"duration":133},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1720058931249,"stop":1720058933319,"duration":2070},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1720060207839,"stop":1720060207839,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1720060207839,"stop":1720060207839,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"e5738e602b2aaa55","name":"log","source":"e5738e602b2aaa55.txt","type":"text/plain","size":3077}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1720060762865,"stop":1720060763886,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1720060763887,"stop":1720060763887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1720061375524,"stop":1720061516329,"duration":140805},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fba61ea04c0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1720061516330,"stop":1720061516854,"duration":524},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1720061516854,"stop":1720061516854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1720061516854,"stop":1720061516854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1720061516854,"stop":1720061516855,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1149-198"},{"name":"thread","value":"7296-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"126a875ac5a2699f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":11,"broken":31,"skipped":0,"passed":88,"unknown":2,"total":132},"items":[{"uid":"47c40276b3b9f873","reportUrl":"../2869//#testresult/47c40276b3b9f873","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fe71f5da080 state=finished raised AssertionError>]","time":{"start":1719975663442,"stop":1719975878284,"duration":214842}},{"uid":"2acd83aaefd598b4","reportUrl":"../2859//#testresult/2acd83aaefd598b4","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fec78a55480 state=finished raised AssertionError>]","time":{"start":1719887543303,"stop":1719887725290,"duration":181987}},{"uid":"3b22755e2574f685","reportUrl":"../2855//#testresult/3b22755e2574f685","status":"passed","time":{"start":1719799933058,"stop":1719800489669,"duration":556611}},{"uid":"3ebea9e2bc0fbe41","reportUrl":"../2852//#testresult/3ebea9e2bc0fbe41","status":"passed","time":{"start":1719713340702,"stop":1719713929603,"duration":588901}},{"uid":"1f593c88a4c32562","reportUrl":"../2850//#testresult/1f593c88a4c32562","status":"passed","time":{"start":1719628407475,"stop":1719628738833,"duration":331358}},{"uid":"77fc1947800dd102","reportUrl":"../2848//#testresult/77fc1947800dd102","status":"passed","time":{"start":1719540547823,"stop":1719541094521,"duration":546698}},{"uid":"a25775dd379945e4","reportUrl":"../2844//#testresult/a25775dd379945e4","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fc570b50580 state=finished raised Exception>]","time":{"start":1719455346831,"stop":1719456122124,"duration":775293}},{"uid":"1a554e557c8965de","reportUrl":"../2827//#testresult/1a554e557c8965de","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1719367508705,"stop":1719367605415,"duration":96710}},{"uid":"f7f38216e2a27f88","reportUrl":"../2813//#testresult/f7f38216e2a27f88","status":"passed","time":{"start":1719281413142,"stop":1719282027935,"duration":614793}},{"uid":"505adedc284691c3","reportUrl":"../2796//#testresult/505adedc284691c3","status":"passed","time":{"start":1719195214482,"stop":1719195627109,"duration":412627}},{"uid":"c7582f817a3ae00e","reportUrl":"../2795//#testresult/c7582f817a3ae00e","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7ff48b502860 state=finished raised AssertionError>]","time":{"start":1719108927079,"stop":1719109110775,"duration":183696}},{"uid":"b7b79e7aa62bce4a","reportUrl":"../2794//#testresult/b7b79e7aa62bce4a","status":"unknown","time":{}},{"uid":"19c45ac5da4c7d22","reportUrl":"../2791//#testresult/19c45ac5da4c7d22","status":"passed","time":{"start":1718937741368,"stop":1718938157244,"duration":415876}},{"uid":"43649df48193791c","reportUrl":"../2782//#testresult/43649df48193791c","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/3","time":{"start":1718849447027,"stop":1718849556509,"duration":109482}},{"uid":"f9d369ce5daa387b","reportUrl":"../2776//#testresult/f9d369ce5daa387b","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f9e1d7f5d80 state=finished raised AssertionError>]","time":{"start":1718765787865,"stop":1718766011836,"duration":223971}},{"uid":"2ba9a53cb26b4c42","reportUrl":"../2762//#testresult/2ba9a53cb26b4c42","status":"passed","time":{"start":1718677758710,"stop":1718678404339,"duration":645629}},{"uid":"e53d6b517c09cd0c","reportUrl":"../2752//#testresult/e53d6b517c09cd0c","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f453161f490 state=finished raised AssertionError>]","time":{"start":1718590460826,"stop":1718590651782,"duration":190956}},{"uid":"146775b46c7e3258","reportUrl":"../2751//#testresult/146775b46c7e3258","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fa1ea83a380 state=finished raised RetryError>]","time":{"start":1718504134151,"stop":1718504392704,"duration":258553}},{"uid":"1706fd852ab097c5","reportUrl":"../2748//#testresult/1706fd852ab097c5","status":"unknown","time":{}},{"uid":"30f90edb70b2230","reportUrl":"../2744//#testresult/30f90edb70b2230","status":"passed","time":{"start":1718334087228,"stop":1718334667798,"duration":580570}}]},"tags":["asyncio","group(1)"]},"source":"43f9aeed4333992d.json","parameterValues":[]}