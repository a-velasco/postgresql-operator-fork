{"uid":"6d787af85eb0d174","name":"test_relation_data_is_updated_correctly_when_scaling","fullName":"tests.integration.new_relations.test_new_relations#test_relation_data_is_updated_correctly_when_scaling","historyId":"b6d2b7dc7521f6b18988697e36a695fb","time":{"start":1708479810600,"stop":1708479810600,"duration":0},"description":"Test that relation data, like connection data, is updated correctly when scaling.","descriptionHtml":"<p>Test that relation data, like connection data, is updated correctly when scaling.</p>\n","status":"skipped","statusMessage":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","statusTrace":"Traceback (most recent call last):\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 157, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 497, in setup\n    raise exc\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 494, in setup\n    col.setup()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1795, in setup\n    self._request._fillfixtures()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 566, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 585, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1069, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 493, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 115, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 152, in _multicall\n    return outcome.get_result()\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 114, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_operator/plugin.py\", line 216, in abort_on_fail\n    pytest.xfail(\"aborted\")\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/outcomes.py\", line 256, in xfail\n    raise XFailed(reason)\n_pytest.outcomes.XFailed: aborted","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1708478887591,"stop":1708478887592,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1708478887592,"stop":1708478888099,"duration":507},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1708478887592,"stop":1708478887592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1708479810600,"stop":1708479810600,"duration":0},"status":"failed","statusMessage":"_pytest.outcomes.XFailed: aborted\n","statusTrace":"  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_operator/plugin.py\", line 216, in abort_on_fail\n    pytest.xfail(\"aborted\")\n  File \"/home/ubuntu/github-runner/_work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/outcomes.py\", line 256, in xfail\n    raise XFailed(reason)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"ops_test::finalizer","time":{"start":1708479810615,"stop":1708479811412,"duration":797},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1708479811413,"stop":1708479811415,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1708479811415,"stop":1708479811415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1708479811415,"stop":1708479811418,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.new_relations"},{"name":"suite","value":"test_new_relations"},{"name":"host","value":"large-331-7e0af20cb986e603aa185b02"},{"name":"thread","value":"27659-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.new_relations.test_new_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":7,"skipped":1,"passed":11,"unknown":0,"total":19},"items":[{"uid":"49a39b9b19448680","reportUrl":"../2027//#testresult/49a39b9b19448680","status":"broken","statusDetails":"psycopg2.OperationalError: connection to server at \"10.60.121.161\", port 5432 failed: timeout expired","time":{"start":1708394332783,"stop":1708397805153,"duration":3472370}},{"uid":"8f884cf39c9c1460","reportUrl":"../2025//#testresult/8f884cf39c9c1460","status":"passed","time":{"start":1708308091379,"stop":1708309407999,"duration":1316620}},{"uid":"acef55fa869abe2f","reportUrl":"../2019//#testresult/acef55fa869abe2f","status":"passed","time":{"start":1708134954218,"stop":1708136423099,"duration":1468881}},{"uid":"ff8cb684e53d3626","reportUrl":"../2008//#testresult/ff8cb684e53d3626","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ndatabase/0 [idle] active: Primary\n  database/1 [idle] active: \n  database/2 [executing] maintenance: reinitialising replica\n  database/3 [executing] waiting: awaiting for member to start","time":{"start":1707962462912,"stop":1707963965957,"duration":1503045}},{"uid":"c7f90ae99d6ad8a8","reportUrl":"../2007//#testresult/c7f90ae99d6ad8a8","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ndatabase/0 [idle] active: Primary\n  database/1 [idle] active: \n  database/2 [executing] maintenance: reinitialising replica\n  database/3 [executing] waiting: awaiting for member to start","time":{"start":1707876007499,"stop":1707877512266,"duration":1504767}},{"uid":"49c6ddc82f089f4d","reportUrl":"../2000//#testresult/49c6ddc82f089f4d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ndatabase (waiting for exactly 2 units, current : 3)","time":{"start":1707789035339,"stop":1707793028791,"duration":3993452}},{"uid":"a689d5a682500c23","reportUrl":"../1996//#testresult/a689d5a682500c23","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ndatabase/2 [idle] blocked: no primary in the cluster\n  database/3 [idle] blocked: no primary in the cluster","time":{"start":1707702947590,"stop":1707707063713,"duration":4116123}},{"uid":"b1b0b101a564586e","reportUrl":"../1995//#testresult/b1b0b101a564586e","status":"passed","time":{"start":1707616893562,"stop":1707618174100,"duration":1280538}},{"uid":"88c09eb19ff5154e","reportUrl":"../1993//#testresult/88c09eb19ff5154e","status":"passed","time":{"start":1707529983805,"stop":1707531248098,"duration":1264293}},{"uid":"c75e6a167ff0b556","reportUrl":"../1990//#testresult/c75e6a167ff0b556","status":"passed","time":{"start":1707443689035,"stop":1707444985946,"duration":1296911}},{"uid":"1df4833649e62321","reportUrl":"../1973//#testresult/1df4833649e62321","status":"passed","time":{"start":1707270514033,"stop":1707271470388,"duration":956355}},{"uid":"fcc4ffbfb5ce697d","reportUrl":"../1961//#testresult/fcc4ffbfb5ce697d","status":"passed","time":{"start":1707184958476,"stop":1707186391071,"duration":1432595}},{"uid":"99b5b1e01634ec7a","reportUrl":"../1957//#testresult/99b5b1e01634ec7a","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ndatabase/2 [idle] blocked: no primary in the cluster\n  database/3 [idle] blocked: no primary in the cluster","time":{"start":1707098118629,"stop":1707102087713,"duration":3969084}},{"uid":"6d6a06e9bcfcbf83","reportUrl":"../1935//#testresult/6d6a06e9bcfcbf83","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ndatabase/2 [idle] blocked: no primary in the cluster\n  database/3 [idle] blocked: no primary in the cluster","time":{"start":1706671903167,"stop":1706675902744,"duration":3999577}},{"uid":"4e1cc4c5bf5cca73","reportUrl":"../1928//#testresult/4e1cc4c5bf5cca73","status":"passed","time":{"start":1706580086325,"stop":1706581458660,"duration":1372335}},{"uid":"422c873c7e8b8d91","reportUrl":"../1919//#testresult/422c873c7e8b8d91","status":"passed","time":{"start":1706493194940,"stop":1706494438980,"duration":1244040}},{"uid":"9f6662c389d487cf","reportUrl":"../1917//#testresult/9f6662c389d487cf","status":"passed","time":{"start":1706407122765,"stop":1706408380305,"duration":1257540}},{"uid":"630f27a90e42d21a","reportUrl":"../1916//#testresult/630f27a90e42d21a","status":"passed","time":{"start":1706320655827,"stop":1706321806440,"duration":1150613}}]},"tags":["asyncio","group(1)"]},"source":"6d787af85eb0d174.json","parameterValues":[]}