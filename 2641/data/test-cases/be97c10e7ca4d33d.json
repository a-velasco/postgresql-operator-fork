{"uid":"be97c10e7ca4d33d","name":"test_restart_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"5275b7647c50948f92e67ea83d5d7646","time":{"start":1716515862607,"stop":1716515885785,"duration":23178},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1716514211127,"stop":1716514211127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1716514211127,"stop":1716514211268,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1716514211127,"stop":1716514211127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1716515467740,"stop":1716515469815,"duration":2075},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1716515862606,"stop":1716515862606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1716515862606,"stop":1716515862606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"db492a85cb16146e","name":"log","source":"db492a85cb16146e.txt","type":"text/plain","size":509}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1716515885785,"stop":1716515886806,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1716515886806,"stop":1716515886806,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1716517627546,"stop":1716517761661,"duration":134115},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f86208e8b50 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/conftest.py\", line 58, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/tests/integration/ha_tests/helpers.py\", line 148, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-operator/postgresql-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1716517761662,"stop":1716517761965,"duration":303},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1716517761967,"stop":1716517761967,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1716517761967,"stop":1716517761967,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1716517761967,"stop":1716517761967,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1040-606"},{"name":"thread","value":"7292-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":96,"unknown":0,"total":97},"items":[{"uid":"ed2238d3c614b598","reportUrl":"../2639//#testresult/ed2238d3c614b598","status":"passed","time":{"start":1716429558928,"stop":1716429582201,"duration":23273}},{"uid":"e63e82918f936b9e","reportUrl":"../2637//#testresult/e63e82918f936b9e","status":"passed","time":{"start":1716343599650,"stop":1716343649882,"duration":50232}},{"uid":"c4eed4ac79317232","reportUrl":"../2636//#testresult/c4eed4ac79317232","status":"passed","time":{"start":1716257791967,"stop":1716257823959,"duration":31992}},{"uid":"210ffe1da0c1f124","reportUrl":"../2629//#testresult/210ffe1da0c1f124","status":"passed","time":{"start":1716170833569,"stop":1716170861563,"duration":27994}},{"uid":"21cf77691a030154","reportUrl":"../2628//#testresult/21cf77691a030154","status":"passed","time":{"start":1716083911900,"stop":1716083944764,"duration":32864}},{"uid":"385900b2d7a301fc","reportUrl":"../2627//#testresult/385900b2d7a301fc","status":"passed","time":{"start":1715997409819,"stop":1715997442383,"duration":32564}},{"uid":"713242667efc622b","reportUrl":"../2625//#testresult/713242667efc622b","status":"passed","time":{"start":1715911323569,"stop":1715911356188,"duration":32619}},{"uid":"c186ece823d62230","reportUrl":"../2621//#testresult/c186ece823d62230","status":"passed","time":{"start":1715824381113,"stop":1715824424705,"duration":43592}},{"uid":"1b4d1e4d20ce7a3b","reportUrl":"../2617//#testresult/1b4d1e4d20ce7a3b","status":"passed","time":{"start":1715738649792,"stop":1715738680947,"duration":31155}},{"uid":"5296fce0e1706bf","reportUrl":"../2614//#testresult/5296fce0e1706bf","status":"passed","time":{"start":1715652108873,"stop":1715652129333,"duration":20460}},{"uid":"2fc9fd5eb926ac32","reportUrl":"../2611//#testresult/2fc9fd5eb926ac32","status":"passed","time":{"start":1715565251006,"stop":1715565270281,"duration":19275}},{"uid":"3ffc421394f05176","reportUrl":"../2610//#testresult/3ffc421394f05176","status":"passed","time":{"start":1715479686363,"stop":1715479714471,"duration":28108}},{"uid":"69b12bff12429ae6","reportUrl":"../2609//#testresult/69b12bff12429ae6","status":"passed","time":{"start":1715392790039,"stop":1715392822082,"duration":32043}},{"uid":"39e86b9e17f45ad6","reportUrl":"../2603//#testresult/39e86b9e17f45ad6","status":"passed","time":{"start":1715306377582,"stop":1715306396044,"duration":18462}},{"uid":"3c0435aa1d1e3574","reportUrl":"../2599//#testresult/3c0435aa1d1e3574","status":"passed","time":{"start":1715220358210,"stop":1715220390034,"duration":31824}},{"uid":"c4daf3cb1bc16703","reportUrl":"../2593//#testresult/c4daf3cb1bc16703","status":"passed","time":{"start":1715132922838,"stop":1715132955461,"duration":32623}},{"uid":"ad9afc7e16946d09","reportUrl":"../2588//#testresult/ad9afc7e16946d09","status":"passed","time":{"start":1715047406801,"stop":1715047431354,"duration":24553}},{"uid":"93b46b67ef1098c","reportUrl":"../2586//#testresult/93b46b67ef1098c","status":"passed","time":{"start":1714960821586,"stop":1714960853533,"duration":31947}},{"uid":"56636ce0afc832f8","reportUrl":"../2582//#testresult/56636ce0afc832f8","status":"passed","time":{"start":1714874590159,"stop":1714874615792,"duration":25633}},{"uid":"1c8d1fbb609cc504","reportUrl":"../2581//#testresult/1c8d1fbb609cc504","status":"passed","time":{"start":1714788113478,"stop":1714788162422,"duration":48944}}]},"tags":["asyncio","group(1)"]},"source":"be97c10e7ca4d33d.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}